(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define("pdfjs-dist/image_decoders/pdf.image_decoders",[],e):"object"===typeof exports?exports["pdfjs-dist/image_decoders/pdf.image_decoders"]=e():t["pdfjs-dist/image_decoders/pdf.image_decoders"]=t.pdfjsImageDecoders=e()})(this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setVerbosityLevel=e.getVerbosityLevel=e.JpxImage=e.JpegImage=e.Jbig2mage=void 0;var r=n(1),i=n(113),o=n(116),s=n(117);e.Jbig2mage=i.Jbig2mage,e.JpegImage=o.JpegImage,e.JpxImage=s.JpxImage,e.getVerbosityLevel=r.getVerbosityLevel,e.setVerbosityLevel=r.setVerbosityLevel},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unreachable=e.warn=e.utf8StringToString=e.stringToUTF8String=e.stringToPDFString=e.stringToBytes=e.string32=e.shadow=e.setVerbosityLevel=e.URL=e.ReadableStream=e.removeNullCharacters=e.readUint32=e.readUint16=e.readInt8=e.log2=e.isEvalSupported=e.isLittleEndian=e.createValidAbsoluteUrl=e.isSameOrigin=e.isSpace=e.isString=e.isNum=e.isEmptyObj=e.isBool=e.isArrayBuffer=e.info=e.getVerbosityLevel=e.getLookupTableFactory=e.getInheritableProperty=e.deprecated=e.createObjectURL=e.createPromiseCapability=e.bytesToString=e.assert=e.arraysToBytes=e.arrayByteLength=e.FormatError=e.XRefParseException=e.toRomanNumerals=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.StreamType=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.NativeImageDecoding=e.MissingPDFException=e.MissingDataException=e.InvalidPDFException=e.AbortException=e.CMapCompressionType=e.ImageKind=e.FontType=e.AnnotationType=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationBorderStyleType=e.UNSUPPORTED_FEATURES=e.VerbosityLevel=e.OPS=e.IDENTITY_MATRIX=e.FONT_IDENTITY_MATRIX=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n(2);var i=n(111),o=n(112),s=[1,0,0,1,0,0],a=[.001,0,0,.001,0,0],c={NONE:"none",DECODE:"decode",DISPLAY:"display"},u={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},f={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},l={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},h={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},d={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},p={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},v={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},m={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9},g={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10},y={ERRORS:0,WARNINGS:1,INFOS:5},b={NONE:0,BINARY:1,STREAM:2},w={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},x={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},S={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},P=y.WARNINGS;function T(t){Number.isInteger(t)&&(P=t)}function C(){return P}function k(t){P>=y.INFOS&&console.log("Info: "+t)}function I(t){P>=y.WARNINGS&&console.log("Warning: "+t)}function O(t){console.log("Deprecated API usage: "+t)}function L(t){throw new Error(t)}function E(t,e){t||L(e)}function A(t,e){try{var n=new o.URL(t);if(!n.origin||"null"===n.origin)return!1}catch(i){return!1}var r=new o.URL(e,n);return n.origin===r.origin}function M(t){if(!t)return!1;switch(t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function _(t,e){if(!t)return null;try{var n=e?new o.URL(t,e):new o.URL(t);if(M(n))return n}catch(r){}return null}function D(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}function R(t){var e;return function(){return t&&(e=Object.create(null),t(e),t=null),e}}var B=function(){function t(t,e){this.name="PasswordException",this.message=t,this.code=e}return t.prototype=new Error,t.constructor=t,t}(),U=function(){function t(t,e){this.name="UnknownErrorException",this.message=t,this.details=e}return t.prototype=new Error,t.constructor=t,t}(),N=function(){function t(t){this.name="InvalidPDFException",this.message=t}return t.prototype=new Error,t.constructor=t,t}(),F=function(){function t(t){this.name="MissingPDFException",this.message=t}return t.prototype=new Error,t.constructor=t,t}(),j=function(){function t(t,e){this.name="UnexpectedResponseException",this.message=t,this.status=e}return t.prototype=new Error,t.constructor=t,t}(),z=function(){function t(t,e){this.begin=t,this.end=e,this.message="Missing data ["+t+", "+e+")"}return t.prototype=new Error,t.prototype.name="MissingDataException",t.constructor=t,t}(),H=function(){function t(t){this.message=t}return t.prototype=new Error,t.prototype.name="XRefParseException",t.constructor=t,t}(),X=function(){function t(t){this.message=t}return t.prototype=new Error,t.prototype.name="FormatError",t.constructor=t,t}(),Y=function(){function t(t){this.name="AbortException",this.message=t}return t.prototype=new Error,t.constructor=t,t}(),q=/\x00/g;function W(t){return"string"!==typeof t?(I("The argument for removeNullCharacters must be a string."),t):t.replace(q,"")}function V(t){E(null!==t&&"object"===("undefined"===typeof t?"undefined":r(t))&&void 0!==t.length,"Invalid argument for bytesToString");var e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);for(var i=[],o=0;o<e;o+=n){var s=Math.min(o+n,e),a=t.subarray(o,s);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function G(t){E("string"===typeof t,"Invalid argument for stringToBytes");for(var e=t.length,n=new Uint8Array(e),r=0;r<e;++r)n[r]=255&t.charCodeAt(r);return n}function J(t){return void 0!==t.length?t.length:(E(void 0!==t.byteLength),t.byteLength)}function K(t){if(1===t.length&&t[0]instanceof Uint8Array)return t[0];var e,n,r,i=0,o=t.length;for(e=0;e<o;e++)n=t[e],r=J(n),i+=r;var s=0,a=new Uint8Array(i);for(e=0;e<o;e++)n=t[e],n instanceof Uint8Array||(n="string"===typeof n?G(n):new Uint8Array(n)),r=n.byteLength,a.set(n,s),s+=r;return a}function Q(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function Z(t){return t<=0?0:Math.ceil(Math.log2(t))}function $(t,e){return t[e]<<24>>24}function tt(t,e){return t[e]<<8|t[e+1]}function et(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}function nt(){var t=new Uint8Array(4);t[0]=1;var e=new Uint32Array(t.buffer,0,1);return 1===e[0]}function rt(){try{return new Function(""),!0}catch(t){return!1}}function it(t){var e=t.dict,n=t.key,r=t.getArray,i=void 0!==r&&r,o=t.stopWhenFound,s=void 0===o||o,a=100,c=0,u=void 0;while(e){var f=i?e.getArray(n):e.get(n);if(void 0!==f){if(s)return f;u||(u=[]),u.push(f)}if(++c>a){I('getInheritableProperty: maximum loop count exceeded for "'+n+'"');break}e=e.get("Parent")}return u}var ot=function(){function t(){}var e=["rgb(",0,",",0,",",0,")"];return t.makeCssRgb=function(t,n,r){return e[1]=t,e[3]=n,e[5]=r,e.join("")},t.transform=function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]},t.applyTransform=function(t,e){var n=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[n,r]},t.applyInverseTransform=function(t,e){var n=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,i=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[r,i]},t.getAxialAlignedBoundingBox=function(e,n){var r=t.applyTransform(e,n),i=t.applyTransform(e.slice(2,4),n),o=t.applyTransform([e[0],e[3]],n),s=t.applyTransform([e[2],e[1]],n);return[Math.min(r[0],i[0],o[0],s[0]),Math.min(r[1],i[1],o[1],s[1]),Math.max(r[0],i[0],o[0],s[0]),Math.max(r[1],i[1],o[1],s[1])]},t.inverseTransform=function(t){var e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]},t.apply3dTransform=function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]},t.singularValueDecompose2dScale=function(t){var e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],i=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],s=(n+o)/2,a=Math.sqrt((n+o)*(n+o)-4*(n*o-i*r))/2,c=s+a||1,u=s-a||1;return[Math.sqrt(c),Math.sqrt(u)]},t.normalizeRect=function(t){var e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e},t.intersect=function(e,n){function r(t,e){return t-e}var i=[e[0],e[2],n[0],n[2]].sort(r),o=[e[1],e[3],n[1],n[3]].sort(r),s=[];return e=t.normalizeRect(e),n=t.normalizeRect(n),(i[0]===e[0]&&i[1]===n[0]||i[0]===n[0]&&i[1]===e[0])&&(s[0]=i[1],s[2]=i[2],(o[0]===e[1]&&o[1]===n[1]||o[0]===n[1]&&o[1]===e[1])&&(s[1]=o[1],s[3]=o[2],s))},t}(),st=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function at(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];E(Number.isInteger(t)&&t>0,"The number should be a positive integer.");var n=void 0,r=[];while(t>=1e3)t-=1e3,r.push("M");n=t/100|0,t%=100,r.push(st[n]),n=t/10|0,t%=10,r.push(st[10+n]),r.push(st[20+t]);var i=r.join("");return e?i.toLowerCase():i}var ct=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ut(t){var e,n=t.length,r=[];if("\xfe"===t[0]&&"\xff"===t[1])for(e=2;e<n;e+=2)r.push(String.fromCharCode(t.charCodeAt(e)<<8|t.charCodeAt(e+1)));else for(e=0;e<n;++e){var i=ct[t.charCodeAt(e)];r.push(i?String.fromCharCode(i):t.charAt(e))}return r.join("")}function ft(t){return decodeURIComponent(escape(t))}function lt(t){return unescape(encodeURIComponent(t))}function ht(t){for(var e in t)return!1;return!0}function dt(t){return"boolean"===typeof t}function pt(t){return"number"===typeof t}function vt(t){return"string"===typeof t}function mt(t){return"object"===("undefined"===typeof t?"undefined":r(t))&&null!==t&&void 0!==t.byteLength}function gt(t){return 32===t||9===t||13===t||10===t}function yt(){var t={};return t.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),t}var bt=function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!r&&o.URL.createObjectURL){var i=new Blob([e],{type:n});return o.URL.createObjectURL(i)}for(var s="data:"+n+";base64,",a=0,c=e.length;a<c;a+=3){var u=255&e[a],f=255&e[a+1],l=255&e[a+2],h=u>>2,d=(3&u)<<4|f>>4,p=a+1<c?(15&f)<<2|l>>6:64,v=a+2<c?63&l:64;s+=t[h]+t[d]+t[p]+t[v]}return s}}();e.FONT_IDENTITY_MATRIX=a,e.IDENTITY_MATRIX=s,e.OPS=w,e.VerbosityLevel=y,e.UNSUPPORTED_FEATURES=x,e.AnnotationBorderStyleType=v,e.AnnotationFieldFlag=p,e.AnnotationFlag=d,e.AnnotationType=h,e.FontType=g,e.ImageKind=l,e.CMapCompressionType=b,e.AbortException=Y,e.InvalidPDFException=N,e.MissingDataException=z,e.MissingPDFException=F,e.NativeImageDecoding=c,e.PasswordException=B,e.PasswordResponses=S,e.PermissionFlag=u,e.StreamType=m,e.TextRenderingMode=f,e.UnexpectedResponseException=j,e.UnknownErrorException=U,e.Util=ot,e.toRomanNumerals=at,e.XRefParseException=H,e.FormatError=X,e.arrayByteLength=J,e.arraysToBytes=K,e.assert=E,e.bytesToString=V,e.createPromiseCapability=yt,e.createObjectURL=bt,e.deprecated=O,e.getInheritableProperty=it,e.getLookupTableFactory=R,e.getVerbosityLevel=C,e.info=k,e.isArrayBuffer=mt,e.isBool=dt,e.isEmptyObj=ht,e.isNum=pt,e.isString=vt,e.isSpace=gt,e.isSameOrigin=A,e.createValidAbsoluteUrl=_,e.isLittleEndian=nt,e.isEvalSupported=rt,e.log2=Z,e.readInt8=$,e.readUint16=tt,e.readUint32=et,e.removeNullCharacters=W,e.ReadableStream=i.ReadableStream,e.URL=o.URL,e.setVerbosityLevel=T,e.shadow=D,e.string32=Q,e.stringToBytes=G,e.stringToPDFString=ut,e.stringToUTF8String=ft,e.utf8StringToString=lt,e.warn=I,e.unreachable=L},function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(3);if(!i._pdfjsCompatibilityChecked){i._pdfjsCompatibilityChecked=!0;var o=n(4),s="object"===("undefined"===typeof window?"undefined":r(window))&&"object"===("undefined"===typeof document?"undefined":r(document));(function(){!i.btoa&&o()&&(i.btoa=function(t){return Buffer.from(t,"binary").toString("base64")})})(),function(){!i.atob&&o()&&(i.atob=function(t){return Buffer.from(t,"base64").toString("binary")})}(),function(){s&&("currentScript"in document||Object.defineProperty(document,"currentScript",{get:function(){var t=document.getElementsByTagName("script");return t[t.length-1]},enumerable:!0,configurable:!0}))}(),function(){s&&"undefined"===typeof Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}(),function(){if(s&&!o()){var t=document.createElement("div");if(!1!==t.classList.toggle("test",0)){var e=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t){if(arguments.length>1){var n=!!arguments[1];return this[n?"add":"remove"](t),n}return e(t)}}}}(),function(){String.prototype.includes||n(5)}(),function(){Array.prototype.includes||n(33)}(),function(){Object.assign||n(42)}(),function(){Math.log2||(Math.log2=n(52))}(),function(){Number.isNaN||(Number.isNaN=n(54))}(),function(){Number.isInteger||(Number.isInteger=n(56))}(),function(){i.WeakMap||(i.WeakMap=n(59))}(),function(){String.codePointAt||(String.codePointAt=n(96))}(),function(){String.fromCodePoint||(String.fromCodePoint=n(99))}(),function(){i.Symbol||n(101)}(),function(){Object.values||(Object.values=n(108))}()}},function(t,e,n){"use strict";t.exports="undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof global&&global.Math===Math?global:"undefined"!==typeof self&&self.Math===Math?self:{}},function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(){return"object"===("undefined"===typeof process?"undefined":r(process))&&process+""==="[object process]"}},function(t,e,n){"use strict";n(6),t.exports=n(9).String.includes},function(t,e,n){"use strict";var r=n(7),i=n(25),o="includes";r(r.P+r.F*n(32)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(8),i=n(9),o=n(10),s=n(20),a=n(23),c="prototype",u=function t(e,n,u){var f,l,h,d,p=e&t.F,v=e&t.G,m=e&t.S,g=e&t.P,y=e&t.B,b=v?r:m?r[n]||(r[n]={}):(r[n]||{})[c],w=v?i:i[n]||(i[n]={}),x=w[c]||(w[c]={});for(f in v&&(u=n),u)l=!p&&b&&void 0!==b[f],h=(l?b:u)[f],d=y&&l?a(h,r):g&&"function"==typeof h?a(Function.call,h):h,b&&s(b,f,h,e&t.U),w[f]!=h&&o(w,f,d),g&&x[f]!=h&&(x[f]=h)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){"use strict";var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e,n){"use strict";var r=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=r)},function(t,e,n){"use strict";var r=n(11),i=n(19);t.exports=n(15)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";var r=n(12),i=n(14),o=n(18),s=Object.defineProperty;e.f=n(15)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";var r=n(13);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===("undefined"===typeof t?"undefined":r(t))?null!==t:"function"===typeof t}},function(t,e,n){"use strict";t.exports=!n(15)&&!n(16)((function(){return 7!=Object.defineProperty(n(17)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){"use strict";t.exports=!n(16)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){"use strict";var r=n(13),i=n(8).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){"use strict";var r=n(13);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var r=n(8),i=n(10),o=n(21),s=n(22)("src"),a="toString",c=Function[a],u=(""+c).split(a);n(9).inspectSource=function(t){return c.call(t)},(t.exports=function(t,e,n,a){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,s)||i(n,s,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,a,(function(){return"function"==typeof this&&this[s]||c.call(this)}))},function(t,e,n){"use strict";var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,n){"use strict";var r=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+i).toString(36))}},function(t,e,n){"use strict";var r=n(24);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";var r=n(26),i=n(31);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){"use strict";var r=n(13),i=n(27),o=n(28)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){"use strict";var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,n){"use strict";var r=n(29)("wks"),i=n(22),o=n(8).Symbol,s="function"==typeof o,a=t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))};a.store=r},function(t,e,n){"use strict";var r=n(9),i=n(8),o="__core-js_shared__",s=i[o]||(i[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(30)?"pure":"global",copyright:"\xa9 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){"use strict";t.exports=!1},function(t,e,n){"use strict";t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var r=n(28)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(i){}}return!0}},function(t,e,n){"use strict";n(34),t.exports=n(9).Array.includes},function(t,e,n){"use strict";var r=n(7),i=n(35)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(41)("includes")},function(t,e,n){"use strict";var r=n(36),i=n(38),o=n(40);t.exports=function(t){return function(e,n,s){var a,c=r(e),u=i(c.length),f=o(s,u);if(t&&n!=n){while(u>f)if(a=c[f++],a!=a)return!0}else for(;u>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){"use strict";var r=n(37),i=n(31);t.exports=function(t){return r(i(t))}},function(t,e,n){"use strict";var r=n(27);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var r=n(39),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){"use strict";var r=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:r)(t)}},function(t,e,n){"use strict";var r=n(39),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){"use strict";var r=n(28)("unscopables"),i=Array.prototype;void 0==i[r]&&n(10)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){"use strict";n(43),t.exports=n(9).Object.assign},function(t,e,n){"use strict";var r=n(7);r(r.S+r.F,"Object",{assign:n(44)})},function(t,e,n){"use strict";var r=n(45),i=n(49),o=n(50),s=n(51),a=n(37),c=Object.assign;t.exports=!c||n(16)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r}))?function(t,e){var n=s(t),c=arguments.length,u=1,f=i.f,l=o.f;while(c>u){var h,d=a(arguments[u++]),p=f?r(d).concat(f(d)):r(d),v=p.length,m=0;while(v>m)l.call(d,h=p[m++])&&(n[h]=d[h])}return n}:c},function(t,e,n){"use strict";var r=n(46),i=n(48);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){"use strict";var r=n(21),i=n(36),o=n(35)(!1),s=n(47)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),c=0,u=[];for(n in a)n!=s&&r(a,n)&&u.push(n);while(e.length>c)r(a,n=e[c++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){"use strict";var r=n(29)("keys"),i=n(22);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){"use strict";t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){"use strict";e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";var r=n(31);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";n(53),t.exports=n(9).Math.log2},function(t,e,n){"use strict";var r=n(7);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){"use strict";n(55),t.exports=n(9).Number.isNaN},function(t,e,n){"use strict";var r=n(7);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){"use strict";n(57),t.exports=n(9).Number.isInteger},function(t,e,n){"use strict";var r=n(7);r(r.S,"Number",{isInteger:n(58)})},function(t,e,n){"use strict";var r=n(13),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e,n){"use strict";n(60),n(62),n(73),n(92),n(94),t.exports=n(9).WeakMap},function(t,e,n){"use strict";var r=n(61),i={};i[n(28)("toStringTag")]="z",i+""!="[object z]"&&n(20)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(t,e,n){"use strict";var r=n(27),i=n(28)("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){"use strict";for(var r=n(63),i=n(45),o=n(20),s=n(8),a=n(10),c=n(65),u=n(28),f=u("iterator"),l=u("toStringTag"),h=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),v=0;v<p.length;v++){var m,g=p[v],y=d[g],b=s[g],w=b&&b.prototype;if(w&&(w[f]||a(w,f,h),w[l]||a(w,l,g),c[g]=h,y))for(m in r)w[m]||o(w,m,r[m],!0)}},function(t,e,n){"use strict";var r=n(41),i=n(64),o=n(65),s=n(36);t.exports=n(66)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";var r=n(30),i=n(7),o=n(20),s=n(10),a=n(65),c=n(67),u=n(71),f=n(72),l=n(28)("iterator"),h=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",v="values",m=function(){return this};t.exports=function(t,e,n,g,y,b,w){c(n,e,g);var x,S,P,T=function(t){if(!h&&t in O)return O[t];switch(t){case p:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},C=e+" Iterator",k=y==v,I=!1,O=t.prototype,L=O[l]||O[d]||y&&O[y],E=L||T(y),A=y?k?T("entries"):E:void 0,M="Array"==e&&O.entries||L;if(M&&(P=f(M.call(new t)),P!==Object.prototype&&P.next&&(u(P,C,!0),r||"function"==typeof P[l]||s(P,l,m))),k&&L&&L.name!==v&&(I=!0,E=function(){return L.call(this)}),r&&!w||!h&&!I&&O[l]||s(O,l,E),a[e]=E,a[C]=m,y)if(x={values:k?E:T(v),keys:b?E:T(p),entries:A},w)for(S in x)S in O||o(O,S,x[S]);else i(i.P+i.F*(h||I),e,x);return x}},function(t,e,n){"use strict";var r=n(68),i=n(19),o=n(71),s={};n(10)(s,n(28)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){"use strict";var r=n(12),i=n(69),o=n(48),s=n(47)("IE_PROTO"),a=function(){},c="prototype",u=function(){var t,e=n(17)("iframe"),r=o.length,i="<",s=">";e.style.display="none",n(70).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+s+"document.F=Object"+i+"/script"+s),t.close(),u=t.F;while(r--)delete u[c][o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[c]=r(t),n=new a,a[c]=null,n[s]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){"use strict";var r=n(11),i=n(12),o=n(45);t.exports=n(15)?Object.defineProperties:function(t,e){i(t);var n,s=o(e),a=s.length,c=0;while(a>c)r.f(t,n=s[c++],e[n]);return t}},function(t,e,n){"use strict";var r=n(8).document;t.exports=r&&r.documentElement},function(t,e,n){"use strict";var r=n(11).f,i=n(21),o=n(28)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){"use strict";var r=n(21),i=n(51),o=n(47)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){"use strict";var r,i=n(74)(0),o=n(20),s=n(78),a=n(44),c=n(79),u=n(13),f=n(16),l=n(86),h="WeakMap",d=s.getWeak,p=Object.isExtensible,v=c.ufstore,m={},g=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(t){if(u(t)){var e=d(t);return!0===e?v(l(this,h)).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(l(this,h),t,e)}},b=t.exports=n(87)(h,g,y,c,!0,!0);f((function(){return 7!=(new b).set((Object.freeze||Object)(m),7).get(m)}))&&(r=c.getConstructor(g,h),a(r.prototype,y),s.NEED=!0,i(["delete","has","get","set"],(function(t){var e=b.prototype,n=e[t];o(e,t,(function(e,i){if(u(e)&&!p(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)}))})))},function(t,e,n){"use strict";var r=n(23),i=n(37),o=n(51),s=n(38),a=n(75);t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,f=4==t,l=6==t,h=5==t||l,d=e||a;return function(e,a,p){for(var v,m,g=o(e),y=i(g),b=r(a,p,3),w=s(y.length),x=0,S=n?d(e,w):c?d(e,0):void 0;w>x;x++)if((h||x in y)&&(v=y[x],m=b(v,x,g),t))if(n)S[x]=m;else if(m)switch(t){case 3:return!0;case 5:return v;case 6:return x;case 2:S.push(v)}else if(f)return!1;return l?-1:u||f?f:S}}},function(t,e,n){"use strict";var r=n(76);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){"use strict";var r=n(13),i=n(77),o=n(28)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(27);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(22)("meta"),o=n(13),s=n(21),a=n(11).f,c=0,u=Object.isExtensible||function(){return!0},f=!n(16)((function(){return u(Object.preventExtensions({}))})),l=function(t){a(t,i,{value:{i:"O"+ ++c,w:{}}})},h=function(t,e){if(!o(t))return"symbol"==("undefined"===typeof t?"undefined":r(t))?t:("string"==typeof t?"S":"P")+t;if(!s(t,i)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[i].i},d=function(t,e){if(!s(t,i)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[i].w},p=function(t){return f&&v.NEED&&u(t)&&!s(t,i)&&l(t),t},v=t.exports={KEY:i,NEED:!1,fastKey:h,getWeak:d,onFreeze:p}},function(t,e,n){"use strict";var r=n(80),i=n(78).getWeak,o=n(12),s=n(13),a=n(81),c=n(82),u=n(74),f=n(21),l=n(86),h=u(5),d=u(6),p=0,v=function(t){return t._l||(t._l=new m)},m=function(){this.a=[]},g=function(t,e){return h(t.a,(function(t){return t[0]===e}))};m.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var n=g(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=d(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var u=t((function(t,r){a(t,u,e,"_i"),t._t=e,t._i=p++,t._l=void 0,void 0!=r&&c(r,n,t[o],t)}));return r(u.prototype,{delete:function(t){if(!s(t))return!1;var n=i(t);return!0===n?v(l(this,e))["delete"](t):n&&f(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=i(t);return!0===n?v(l(this,e)).has(t):n&&f(n,this._i)}}),u},def:function(t,e,n){var r=i(o(e),!0);return!0===r?v(t).set(e,n):r[t._i]=n,t},ufstore:v}},function(t,e,n){"use strict";var r=n(20);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){"use strict";var r=n(23),i=n(83),o=n(84),s=n(12),a=n(38),c=n(85),u={},f={},l=t.exports=function(t,e,n,l,h){var d,p,v,m,g=h?function(){return t}:c(t),y=r(n,l,e?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(d=a(t.length);d>b;b++)if(m=e?y(s(p=t[b])[0],p[1]):y(t[b]),m===u||m===f)return m}else for(v=g.call(t);!(p=v.next()).done;)if(m=i(v,y,p.value,e),m===u||m===f)return m};l.BREAK=u,l.RETURN=f},function(t,e,n){"use strict";var r=n(12);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(s){var o=t["return"];throw void 0!==o&&r(o.call(t)),s}}},function(t,e,n){"use strict";var r=n(65),i=n(28)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(61),i=n(28)("iterator"),o=n(65);t.exports=n(9).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";var r=n(13);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){"use strict";var r=n(8),i=n(7),o=n(20),s=n(80),a=n(78),c=n(82),u=n(81),f=n(13),l=n(16),h=n(88),d=n(71),p=n(89);t.exports=function(t,e,n,v,m,g){var y=r[t],b=y,w=m?"set":"add",x=b&&b.prototype,S={},P=function(t){var e=x[t];o(x,t,"delete"==t||"has"==t?function(t){return!(g&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!f(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(g||x.forEach&&!l((function(){(new b).entries().next()})))){var T=new b,C=T[w](g?{}:-0,1)!=T,k=l((function(){T.has(1)})),I=h((function(t){new b(t)})),O=!g&&l((function(){var t=new b,e=5;while(e--)t[w](e,e);return!t.has(-0)}));I||(b=e((function(e,n){u(e,b,t);var r=p(new y,e,b);return void 0!=n&&c(n,m,r[w],r),r})),b.prototype=x,x.constructor=b),(k||O)&&(P("delete"),P("has"),m&&P("get")),(O||C)&&P(w),g&&x.clear&&delete x.clear}else b=v.getConstructor(e,t,m,w),s(b.prototype,n),a.NEED=!0;return d(b,t),S[t]=b,i(i.G+i.W+i.F*(b!=y),S),g||v.setStrong(b,t,m),b}},function(t,e,n){"use strict";var r=n(28)("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(s){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(s){}return n}},function(t,e,n){"use strict";var r=n(13),i=n(90).set;t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){"use strict";var r=n(13),i=n(12),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(23)(Function.call,n(91).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){"use strict";var r=n(50),i=n(19),o=n(36),s=n(18),a=n(21),c=n(14),u=Object.getOwnPropertyDescriptor;e.f=n(15)?u:function(t,e){if(t=o(t),e=s(e,!0),c)try{return u(t,e)}catch(n){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){"use strict";n(93)("WeakMap")},function(t,e,n){"use strict";var r=n(7);t.exports=function(t){r(r.S,t,{of:function(){var t=arguments.length,e=new Array(t);while(t--)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";n(95)("WeakMap")},function(t,e,n){"use strict";var r=n(7),i=n(24),o=n(23),s=n(82);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,a,c=arguments[1];return i(this),e=void 0!==c,e&&i(c),void 0==t?new this:(n=[],e?(r=0,a=o(c,arguments[2],2),s(t,!1,(function(t){n.push(a(t,r++))}))):s(t,!1,n.push,n),new this(n))}})}},function(t,e,n){"use strict";n(97),t.exports=n(9).String.codePointAt},function(t,e,n){"use strict";var r=n(7),i=n(98)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(39),i=n(31);t.exports=function(t){return function(e,n){var o,s,a=String(i(e)),c=r(n),u=a.length;return c<0||c>=u?t?"":void 0:(o=a.charCodeAt(c),o<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536)}}},function(t,e,n){"use strict";n(100),t.exports=n(9).String.fromCodePoint},function(t,e,n){"use strict";var r=n(7),i=n(40),o=String.fromCharCode,s=String.fromCodePoint;r(r.S+r.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){var e,n=[],r=arguments.length,s=0;while(r>s){if(e=+arguments[s++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){"use strict";n(102),n(60),t.exports=n(9).Symbol},function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(8),o=n(21),s=n(15),a=n(7),c=n(20),u=n(78).KEY,f=n(16),l=n(29),h=n(71),d=n(22),p=n(28),v=n(103),m=n(104),g=n(105),y=n(77),b=n(12),w=n(13),x=n(36),S=n(18),P=n(19),T=n(68),C=n(106),k=n(91),I=n(11),O=n(45),L=k.f,E=I.f,A=C.f,M=i.Symbol,_=i.JSON,D=_&&_.stringify,R="prototype",B=p("_hidden"),U=p("toPrimitive"),N={}.propertyIsEnumerable,F=l("symbol-registry"),j=l("symbols"),z=l("op-symbols"),H=Object[R],X="function"==typeof M,Y=i.QObject,q=!Y||!Y[R]||!Y[R].findChild,W=s&&f((function(){return 7!=T(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=L(H,e);r&&delete H[e],E(t,e,n),r&&t!==H&&E(H,e,r)}:E,V=function(t){var e=j[t]=T(M[R]);return e._k=t,e},G=X&&"symbol"==r(M.iterator)?function(t){return"symbol"==("undefined"===typeof t?"undefined":r(t))}:function(t){return t instanceof M},J=function(t,e,n){return t===H&&J(z,e,n),b(t),e=S(e,!0),b(n),o(j,e)?(n.enumerable?(o(t,B)&&t[B][e]&&(t[B][e]=!1),n=T(n,{enumerable:P(0,!1)})):(o(t,B)||E(t,B,P(1,{})),t[B][e]=!0),W(t,e,n)):E(t,e,n)},K=function(t,e){b(t);var n,r=g(e=x(e)),i=0,o=r.length;while(o>i)J(t,n=r[i++],e[n]);return t},Q=function(t,e){return void 0===e?T(t):K(T(t),e)},Z=function(t){var e=N.call(this,t=S(t,!0));return!(this===H&&o(j,t)&&!o(z,t))&&(!(e||!o(this,t)||!o(j,t)||o(this,B)&&this[B][t])||e)},$=function(t,e){if(t=x(t),e=S(e,!0),t!==H||!o(j,e)||o(z,e)){var n=L(t,e);return!n||!o(j,e)||o(t,B)&&t[B][e]||(n.enumerable=!0),n}},tt=function(t){var e,n=A(x(t)),r=[],i=0;while(n.length>i)o(j,e=n[i++])||e==B||e==u||r.push(e);return r},et=function(t){var e,n=t===H,r=A(n?z:x(t)),i=[],s=0;while(r.length>s)!o(j,e=r[s++])||n&&!o(H,e)||i.push(j[e]);return i};X||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function e(n){this===H&&e.call(z,n),o(this,B)&&o(this[B],t)&&(this[B][t]=!1),W(this,t,P(1,n))};return s&&q&&W(H,t,{configurable:!0,set:e}),V(t)},c(M[R],"toString",(function(){return this._k})),k.f=$,I.f=J,n(107).f=C.f=tt,n(50).f=Z,n(49).f=et,s&&!n(30)&&c(H,"propertyIsEnumerable",Z,!0),v.f=function(t){return V(p(t))}),a(a.G+a.W+a.F*!X,{Symbol:M});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)p(nt[rt++]);for(var it=O(p.store),ot=0;it.length>ot;)m(it[ot++]);a(a.S+a.F*!X,"Symbol",{for:function(t){return o(F,t+="")?F[t]:F[t]=M(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!X,"Object",{create:Q,defineProperty:J,defineProperties:K,getOwnPropertyDescriptor:$,getOwnPropertyNames:tt,getOwnPropertySymbols:et}),_&&a(a.S+a.F*(!X||f((function(){var t=M();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))}))),"JSON",{stringify:function(t){var e,n,r=[t],i=1;while(arguments.length>i)r.push(arguments[i++]);if(n=e=r[1],(w(e)||void 0!==t)&&!G(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!G(e))return e}),r[1]=e,D.apply(_,r)}}),M[R][U]||n(10)(M[R],U,M[R].valueOf),h(M,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(t,e,n){"use strict";e.f=n(28)},function(t,e,n){"use strict";var r=n(8),i=n(9),o=n(30),s=n(103),a=n(11).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){"use strict";var r=n(45),i=n(49),o=n(50);t.exports=function(t){var e=r(t),n=i.f;if(n){var s,a=n(t),c=o.f,u=0;while(a.length>u)c.call(t,s=a[u++])&&e.push(s)}return e}},function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(36),o=n(107).f,s={}.toString,a="object"==("undefined"===typeof window?"undefined":r(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return o(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==s.call(t)?c(t):o(i(t))}},function(t,e,n){"use strict";var r=n(46),i=n(48).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){"use strict";n(109),t.exports=n(9).Object.values},function(t,e,n){"use strict";var r=n(7),i=n(110)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){"use strict";var r=n(45),i=n(36),o=n(50).f;t.exports=function(t){return function(e){var n,s=i(e),a=r(s),c=a.length,u=0,f=[];while(c>u)o.call(s,n=a[u++])&&f.push(t?[n,s[n]]:s[n]);return f}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=!1;if("undefined"!==typeof ReadableStream)try{new ReadableStream({start:function(t){t.close()}}),i=!0}catch(s){}if(i)e.ReadableStream=ReadableStream;else{var o=function t(){throw r(this,t),new Error("The current image decoders are synchronous, hence `ReadableStream` shouldn't need to be polyfilled for the IMAGE_DECODERS build target.")};e.ReadableStream=o}},function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=!1;try{if("function"===typeof URL&&"object"===r(URL.prototype)&&"origin"in URL.prototype){var s=new URL("b","http://a");s.pathname="c%20d",o="http://a/c%20d"===s.href}}catch(c){}if(o)e.URL=URL;else{var a=function t(){throw i(this,t),new Error("The current image decoders doesn't utilize the `URL` constructor, hence it shouldn't need to be polyfilled for the IMAGE_DECODERS build target.")};e.URL=a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Jbig2Image=void 0;var r=n(1),i=n(114),o=n(115),s=function(){function t(t){this.message="JBIG2 error: "+t}return t.prototype=new Error,t.prototype.name="Jbig2Error",t.constructor=t,t}(),a=function(){function t(){}function e(t,e,n){this.data=t,this.start=e,this.end=n}function n(t,e,n){var r=t.getContexts(e),i=1;function o(t){for(var e=0,o=0;o<t;o++){var s=n.readBit(r,i);i=i<256?i<<1|s:511&(i<<1|s)|256,e=e<<1|s}return e>>>0}var s=o(1),a=o(1)?o(1)?o(1)?o(1)?o(1)?o(32)+4436:o(12)+340:o(8)+84:o(6)+20:o(4)+4:o(2);return 0===s?a:a>0?-a:null}function a(t,e,n){for(var r=t.getContexts("IAID"),i=1,o=0;o<n;o++){var s=e.readBit(r,i);i=i<<1|s}return n<31?i&(1<<n)-1:2147483647&i}t.prototype={getContexts:function(t){return t in this?this[t]:this[t]=new Int8Array(65536)}},e.prototype={get decoder(){var t=new i.ArithmeticDecoder(this.data,this.start,this.end);return(0,r.shadow)(this,"decoder",t)},get contextCache(){var e=new t;return(0,r.shadow)(this,"contextCache",e)}};var c=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],u=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],f=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],l=[39717,1941,229,405],h=[32,8];function d(t,e,n){var r,i,o,s,a,c,u,f=n.decoder,l=n.contextCache.getContexts("GB"),h=[],d=31735;for(i=0;i<e;i++)for(a=h[i]=new Uint8Array(t),c=i<1?a:h[i-1],u=i<2?a:h[i-2],r=u[0]<<13|u[1]<<12|u[2]<<11|c[0]<<7|c[1]<<6|c[2]<<5|c[3]<<4,o=0;o<t;o++)a[o]=s=f.readBit(l,r),r=(r&d)<<1|(o+3<t?u[o+3]<<11:0)|(o+4<t?c[o+4]<<4:0)|s;return h}function p(t,e,n,r,i,o,s,a){if(t){var c=new R(a.data,a.start,a.end);return j(c,e,n,!1)}if(0===r&&!o&&!i&&4===s.length&&3===s[0].x&&-1===s[0].y&&-3===s[1].x&&-1===s[1].y&&2===s[2].x&&-2===s[2].y&&-2===s[3].x&&-2===s[3].y)return d(e,n,a);var f=!!o,h=u[r].concat(s);h.sort((function(t,e){return t.y-e.y||t.x-e.x}));var p,v,m=h.length,g=new Int8Array(m),y=new Int8Array(m),b=[],w=0,x=0,S=0,P=0;for(v=0;v<m;v++)g[v]=h[v].x,y[v]=h[v].y,x=Math.min(x,h[v].x),S=Math.max(S,h[v].x),P=Math.min(P,h[v].y),v<m-1&&h[v].y===h[v+1].y&&h[v].x===h[v+1].x-1?w|=1<<m-1-v:b.push(v);var T=b.length,C=new Int8Array(T),k=new Int8Array(T),I=new Uint16Array(T);for(p=0;p<T;p++)v=b[p],C[p]=h[v].x,k[p]=h[v].y,I[p]=1<<m-1-v;for(var O,L,E,A,M,_=-x,D=-P,B=e-S,U=l[r],N=new Uint8Array(e),F=[],z=a.decoder,H=a.contextCache.getContexts("GB"),X=0,Y=0,q=0;q<n;q++){if(i){var W=z.readBit(H,U);if(X^=W,X){F.push(N);continue}}for(N=new Uint8Array(N),F.push(N),O=0;O<e;O++)if(f&&o[q][O])N[O]=0;else{if(O>=_&&O<B&&q>=D)for(Y=Y<<1&w,v=0;v<T;v++)L=q+k[v],E=O+C[v],A=F[L][E],A&&(A=I[v],Y|=A);else for(Y=0,M=m-1,v=0;v<m;v++,M--)E=O+g[v],E>=0&&E<e&&(L=q+y[v],L>=0&&(A=F[L][E],A&&(Y|=A<<M)));var V=z.readBit(H,Y);N[O]=V}}return F}function v(t,e,n,r,i,o,a,c,u){var l=f[n].coding;0===n&&(l=l.concat([c[0]]));var d,p=l.length,v=new Int32Array(p),m=new Int32Array(p);for(d=0;d<p;d++)v[d]=l[d].x,m[d]=l[d].y;var g=f[n].reference;0===n&&(g=g.concat([c[1]]));var y=g.length,b=new Int32Array(y),w=new Int32Array(y);for(d=0;d<y;d++)b[d]=g[d].x,w[d]=g[d].y;for(var x=r[0].length,S=r.length,P=h[n],T=[],C=u.decoder,k=u.contextCache.getContexts("GR"),I=0,O=0;O<e;O++){if(a){var L=C.readBit(k,P);if(I^=L,I)throw new s("prediction is not supported")}var E=new Uint8Array(t);T.push(E);for(var A=0;A<t;A++){var M,_,D=0;for(d=0;d<p;d++)M=O+m[d],_=A+v[d],M<0||_<0||_>=t?D<<=1:D=D<<1|T[M][_];for(d=0;d<y;d++)M=O+w[d]-o,_=A+b[d]-i,M<0||M>=S||_<0||_>=x?D<<=1:D=D<<1|r[M][_];var R=C.readBit(k,D);E[A]=R}}return T}function m(t,e,i,o,c,u,f,l,h,d,m,y){if(t&&e)throw new s("symbol refinement with Huffman is not supported");var b=[],w=0,x=(0,r.log2)(i.length+o),S=m.decoder,P=m.contextCache,T=void 0,C=void 0;t&&(T=D(1),C=[],x=Math.max(x,1));while(b.length<o){var k=t?u.tableDeltaHeight.decode(y):n(P,"IADH",S);w+=k;var I=0,O=0,L=t?C.length:0;while(1){var E,A=t?u.tableDeltaWidth.decode(y):n(P,"IADW",S);if(null===A)break;if(I+=A,O+=I,e){var M=n(P,"IAAI",S);if(M>1)E=g(t,e,I,w,0,M,1,i.concat(b),x,0,0,1,0,u,h,d,m,0,y);else{var _=a(P,S,x),R=n(P,"IARDX",S),B=n(P,"IARDY",S),U=_<i.length?i[_]:b[_-i.length];E=v(I,w,h,U,R,B,!1,d,m)}b.push(E)}else t?C.push(I):(E=p(!1,I,w,f,!1,null,l,m),b.push(E))}if(t&&!e){var N=u.tableBitmapSize.decode(y);y.byteAlign();var z=void 0;if(0===N)z=F(y,O,w);else{var H=y.end,X=y.position+N;y.end=X,z=j(y,O,w,!1),y.end=H,y.position=X}var Y=C.length;if(L===Y-1)b.push(z);else{var q=void 0,W=void 0,V=0,G=void 0,J=void 0,K=void 0;for(q=L;q<Y;q++){for(J=C[q],G=V+J,K=[],W=0;W<w;W++)K.push(z[W].subarray(V,G));b.push(K),V=G}}}}var Q=[],Z=[],$=!1,tt=i.length+o;while(Z.length<tt){var et=t?T.decode(y):n(P,"IAEX",S);while(et--)Z.push($);$=!$}for(var nt=0,rt=i.length;nt<rt;nt++)Z[nt]&&Q.push(i[nt]);for(var it=0;it<o;nt++,it++)Z[nt]&&Q.push(b[it]);return Q}function g(t,e,r,i,o,c,u,f,l,h,d,p,m,g,y,b,w,x,S){if(t&&e)throw new s("refinement with Huffman is not supported");var P,T,C=[];for(P=0;P<i;P++){if(T=new Uint8Array(r),o)for(var k=0;k<r;k++)T[k]=o;C.push(T)}var I=w.decoder,O=w.contextCache,L=t?-g.tableDeltaT.decode(S):-n(O,"IADT",I),E=0;P=0;while(P<c){var A=t?g.tableDeltaT.decode(S):n(O,"IADT",I);L+=A;var M=t?g.tableFirstS.decode(S):n(O,"IAFS",I);E+=M;var _=E;do{var D=0;u>1&&(D=t?S.readBits(x):n(O,"IAIT",I));var R=u*L+D,B=t?g.symbolIDTable.decode(S):a(O,I,l),U=e&&(t?S.readBit():n(O,"IARI",I)),N=f[B],F=N[0].length,j=N.length;if(U){var z=n(O,"IARDW",I),H=n(O,"IARDH",I),X=n(O,"IARDX",I),Y=n(O,"IARDY",I);F+=z,j+=H,N=v(F,j,y,N,(z>>1)+X,(H>>1)+Y,!1,b,w)}var q,W,V,G=R-(1&p?0:j-1),J=_-(2&p?F-1:0);if(h){for(q=0;q<j;q++)if(T=C[J+q],T){V=N[q];var K=Math.min(r-G,F);switch(m){case 0:for(W=0;W<K;W++)T[G+W]|=V[W];break;case 2:for(W=0;W<K;W++)T[G+W]^=V[W];break;default:throw new s("operator "+m+" is not supported")}}_+=j-1}else{for(W=0;W<j;W++)if(T=C[G+W],T)switch(V=N[W],m){case 0:for(q=0;q<F;q++)T[J+q]|=V[q];break;case 2:for(q=0;q<F;q++)T[J+q]^=V[q];break;default:throw new s("operator "+m+" is not supported")}_+=F-1}P++;var Q=t?g.tableDeltaS.decode(S):n(O,"IADS",I);if(null===Q)break;_+=Q+d}while(1)}return C}function y(t,e,n,r,i,o){var s=[];t||(s.push({x:-e,y:0}),0===i&&(s.push({x:-3,y:-1}),s.push({x:2,y:-2}),s.push({x:-2,y:-2})));var a=(r+1)*e,c=p(t,a,n,i,!1,null,s,o),u=[],f=0,l=void 0,h=void 0,d=void 0,v=void 0;while(f<=r){for(l=[],h=e*f,d=h+e,v=0;v<n;v++)l.push(c[v].subarray(h,d));u.push(l),f++}return u}function b(t,e,n,i,o,a,c,u,f,l,h,d,v,m,g){var y=null;if(c)throw new s("skip is not supported");if(0!==u)throw new s("operator "+u+" is not supported in halftone region");var b=[],w=void 0,x=void 0,S=void 0;for(w=0;w<o;w++){if(S=new Uint8Array(i),a)for(x=0;x<i;x++)S[x]=a;b.push(S)}var P=e.length,T=e[0],C=T[0].length,k=T.length,I=(0,r.log2)(P),O=[];t||(O.push({x:n<=1?3:2,y:-1}),0===n&&(O.push({x:-3,y:-1}),O.push({x:2,y:-2}),O.push({x:-2,y:-2})));var L=[],E=void 0,A=void 0;for(t&&(E=new R(g.data,g.start,g.end)),w=I-1;w>=0;w--)A=t?j(E,f,l,!0):p(!1,f,l,n,!1,y,O,g),L[w]=A;var M=void 0,_=void 0,D=void 0,B=void 0,U=void 0,N=void 0,F=void 0,z=void 0,H=void 0;for(M=0;M<l;M++)for(_=0;_<f;_++){for(D=0,B=0,x=I-1;x>=0;x--)D=L[x][M][_]^D,B|=D<<x;if(U=e[B],N=h+M*m+_*v>>8,F=d+M*v-_*m>>8,N>=0&&N+C<=i&&F>=0&&F+k<=o)for(w=0;w<k;w++)for(H=b[F+w],z=U[w],x=0;x<C;x++)H[N+x]|=z[x];else{var X=void 0,Y=void 0;for(w=0;w<k;w++)if(Y=F+w,!(Y<0||Y>=o))for(H=b[Y],z=U[w],x=0;x<C;x++)X=N+x,X>=0&&X<i&&(H[X]|=z[x])}}return b}function w(t,e){var n={};n.number=(0,r.readUint32)(t,e);var i=t[e+4],o=63&i;if(!c[o])throw new s("invalid segment type: "+o);n.type=o,n.typeName=c[o],n.deferredNonRetain=!!(128&i);var a=!!(64&i),u=t[e+5],f=u>>5&7,l=[31&u],h=e+6;if(7===u){f=536870911&(0,r.readUint32)(t,h-1),h+=3;var d=f+7>>3;l[0]=t[h++];while(--d>0)l.push(t[h++])}else if(5===u||6===u)throw new s("invalid referred-to flags");n.retainBits=l;var p,v,m=n.number<=256?1:n.number<=65536?2:4,g=[];for(p=0;p<f;p++){var y=1===m?t[h]:2===m?(0,r.readUint16)(t,h):(0,r.readUint32)(t,h);g.push(y),h+=m}if(n.referredTo=g,a?(n.pageAssociation=(0,r.readUint32)(t,h),h+=4):n.pageAssociation=t[h++],n.length=(0,r.readUint32)(t,h),h+=4,4294967295===n.length){if(38!==o)throw new s("invalid unknown segment length");var b=S(t,h),w=t[h+P],x=!!(1&w),T=6,C=new Uint8Array(T);for(x||(C[0]=255,C[1]=172),C[2]=b.height>>>24&255,C[3]=b.height>>16&255,C[4]=b.height>>8&255,C[5]=255&b.height,p=h,v=t.length;p<v;p++){var k=0;while(k<T&&C[k]===t[p+k])k++;if(k===T){n.length=p+T;break}}if(4294967295===n.length)throw new s("segment end was not found")}return n.headerEnd=h,n}function x(t,e,n,r){var i=[],o=n;while(o<r){var s=w(e,o);o=s.headerEnd;var a={header:s,data:e};if(t.randomAccess||(a.start=o,o+=s.length,a.end=o),i.push(a),51===s.type)break}if(t.randomAccess)for(var c=0,u=i.length;c<u;c++)i[c].start=o,o+=i[c].header.length,i[c].end=o;return i}function S(t,e){return{width:(0,r.readUint32)(t,e),height:(0,r.readUint32)(t,e+4),x:(0,r.readUint32)(t,e+8),y:(0,r.readUint32)(t,e+12),combinationOperator:7&t[e+16]}}var P=17;function T(t,e){var n,i,o,a,c=t.header,u=t.data,f=t.start,l=t.end;switch(c.type){case 0:var h={},d=(0,r.readUint16)(u,f);if(h.huffman=!!(1&d),h.refinement=!!(2&d),h.huffmanDHSelector=d>>2&3,h.huffmanDWSelector=d>>4&3,h.bitmapSizeSelector=d>>6&1,h.aggregationInstancesSelector=d>>7&1,h.bitmapCodingContextUsed=!!(256&d),h.bitmapCodingContextRetained=!!(512&d),h.template=d>>10&3,h.refinementTemplate=d>>12&1,f+=2,!h.huffman){for(a=0===h.template?4:1,i=[],o=0;o<a;o++)i.push({x:(0,r.readInt8)(u,f),y:(0,r.readInt8)(u,f+1)}),f+=2;h.at=i}if(h.refinement&&!h.refinementTemplate){for(i=[],o=0;o<2;o++)i.push({x:(0,r.readInt8)(u,f),y:(0,r.readInt8)(u,f+1)}),f+=2;h.refinementAt=i}h.numberOfExportedSymbols=(0,r.readUint32)(u,f),f+=4,h.numberOfNewSymbols=(0,r.readUint32)(u,f),f+=4,n=[h,c.number,c.referredTo,u,f,l];break;case 6:case 7:var p={};p.info=S(u,f),f+=P;var v=(0,r.readUint16)(u,f);if(f+=2,p.huffman=!!(1&v),p.refinement=!!(2&v),p.logStripSize=v>>2&3,p.stripSize=1<<p.logStripSize,p.referenceCorner=v>>4&3,p.transposed=!!(64&v),p.combinationOperator=v>>7&3,p.defaultPixelValue=v>>9&1,p.dsOffset=v<<17>>27,p.refinementTemplate=v>>15&1,p.huffman){var m=(0,r.readUint16)(u,f);f+=2,p.huffmanFS=3&m,p.huffmanDS=m>>2&3,p.huffmanDT=m>>4&3,p.huffmanRefinementDW=m>>6&3,p.huffmanRefinementDH=m>>8&3,p.huffmanRefinementDX=m>>10&3,p.huffmanRefinementDY=m>>12&3,p.huffmanRefinementSizeSelector=!!(16384&m)}if(p.refinement&&!p.refinementTemplate){for(i=[],o=0;o<2;o++)i.push({x:(0,r.readInt8)(u,f),y:(0,r.readInt8)(u,f+1)}),f+=2;p.refinementAt=i}p.numberOfSymbolInstances=(0,r.readUint32)(u,f),f+=4,n=[p,c.referredTo,u,f,l];break;case 16:var g={},y=u[f++];g.mmr=!!(1&y),g.template=y>>1&3,g.patternWidth=u[f++],g.patternHeight=u[f++],g.maxPatternIndex=(0,r.readUint32)(u,f),f+=4,n=[g,c.number,u,f,l];break;case 22:case 23:var b={};b.info=S(u,f),f+=P;var w=u[f++];b.mmr=!!(1&w),b.template=w>>1&3,b.enableSkip=!!(8&w),b.combinationOperator=w>>4&7,b.defaultPixelValue=w>>7&1,b.gridWidth=(0,r.readUint32)(u,f),f+=4,b.gridHeight=(0,r.readUint32)(u,f),f+=4,b.gridOffsetX=4294967295&(0,r.readUint32)(u,f),f+=4,b.gridOffsetY=4294967295&(0,r.readUint32)(u,f),f+=4,b.gridVectorX=(0,r.readUint16)(u,f),f+=2,b.gridVectorY=(0,r.readUint16)(u,f),f+=2,n=[b,c.referredTo,u,f,l];break;case 38:case 39:var x={};x.info=S(u,f),f+=P;var T=u[f++];if(x.mmr=!!(1&T),x.template=T>>1&3,x.prediction=!!(8&T),!x.mmr){for(a=0===x.template?4:1,i=[],o=0;o<a;o++)i.push({x:(0,r.readInt8)(u,f),y:(0,r.readInt8)(u,f+1)}),f+=2;x.at=i}n=[x,u,f,l];break;case 48:var C={width:(0,r.readUint32)(u,f),height:(0,r.readUint32)(u,f+4),resolutionX:(0,r.readUint32)(u,f+8),resolutionY:(0,r.readUint32)(u,f+12)};4294967295===C.height&&delete C.height;var k=u[f+16];(0,r.readUint16)(u,f+17),C.lossless=!!(1&k),C.refinement=!!(2&k),C.defaultPixelValue=k>>2&1,C.combinationOperator=k>>3&3,C.requiresBuffer=!!(32&k),C.combinationOperatorOverride=!!(64&k),n=[C];break;case 49:break;case 50:break;case 51:break;case 53:n=[c.number,u,f,l];break;case 62:break;default:throw new s("segment type "+c.typeName+"("+c.type+") is not implemented")}var I="on"+c.typeName;I in e&&e[I].apply(e,n)}function C(t,e){for(var n=0,r=t.length;n<r;n++)T(t[n],e)}function k(t){for(var e=new O,n=0,r=t.length;n<r;n++){var i=t[n],o=x({},i.data,i.start,i.end);C(o,e)}return e.buffer}function I(t){var e=0,n=t.length;if(151!==t[e]||74!==t[e+1]||66!==t[e+2]||50!==t[e+3]||13!==t[e+4]||10!==t[e+5]||26!==t[e+6]||10!==t[e+7])throw new s("parseJbig2 - invalid header.");var i=Object.create(null);e+=8;var o=t[e++];i.randomAccess=!(1&o),2&o||(i.numberOfPages=(0,r.readUint32)(t,e),e+=4);var a=x(i,t,e,n),c=new O;C(a,c);for(var u=c.currentPageInfo,f=u.width,l=u.height,h=c.buffer,d=new Uint8ClampedArray(f*l),p=0,v=0,m=0;m<l;m++)for(var g=0,y=void 0,b=0;b<f;b++)g||(g=128,y=h[v++]),d[p++]=y&g?0:255,g>>=1;return{imgData:d,width:f,height:l}}function O(){}function L(t){2===t.length?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=t[0],this.rangeLength=0,this.prefixCode=t[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=t[0],this.prefixLength=t[1],this.rangeLength=t[2],this.prefixCode=t[3],this.isLowerRange="lower"===t[4])}function E(t){this.children=[],t?(this.isLeaf=!0,this.rangeLength=t.rangeLength,this.rangeLow=t.rangeLow,this.isLowerRange=t.isLowerRange,this.isOOB=t.isOOB):this.isLeaf=!1}function A(t,e){e||this.assignPrefixCodes(t),this.rootNode=new E(null);var n=void 0,r=t.length,i=void 0;for(n=0;n<r;n++)i=t[n],i.prefixLength>0&&this.rootNode.buildTree(i,i.prefixLength-1)}function M(t,e,n){var i=t[e],o=4294967295&(0,r.readUint32)(t,e+1),s=4294967295&(0,r.readUint32)(t,e+5),a=new R(t,e+9,n),c=1+(i>>1&7),u=1+(i>>4&7),f=[],l=void 0,h=void 0,d=o;do{l=a.readBits(c),h=a.readBits(u),f.push(new L([d,l,h,0])),d+=1<<h}while(d<s);return l=a.readBits(c),f.push(new L([o-1,l,32,0,"lower"])),l=a.readBits(c),f.push(new L([s,l,32,0])),1&i&&(l=a.readBits(c),f.push(new L([l,0]))),new A(f,!1)}O.prototype={onPageInformation:function(t){this.currentPageInfo=t;var e=t.width+7>>3,n=new Uint8ClampedArray(e*t.height);if(t.defaultPixelValue)for(var r=0,i=n.length;r<i;r++)n[r]=255;this.buffer=n},drawBitmap:function(t,e){var n,r,i,o,a=this.currentPageInfo,c=t.width,u=t.height,f=a.width+7>>3,l=a.combinationOperatorOverride?t.combinationOperator:a.combinationOperator,h=this.buffer,d=128>>(7&t.x),p=t.y*f+(t.x>>3);switch(l){case 0:for(n=0;n<u;n++){for(i=d,o=p,r=0;r<c;r++)e[n][r]&&(h[o]|=i),i>>=1,i||(i=128,o++);p+=f}break;case 2:for(n=0;n<u;n++){for(i=d,o=p,r=0;r<c;r++)e[n][r]&&(h[o]^=i),i>>=1,i||(i=128,o++);p+=f}break;default:throw new s("operator "+l+" is not supported")}},onImmediateGenericRegion:function(t,n,r,i){var o=t.info,s=new e(n,r,i),a=p(t.mmr,o.width,o.height,t.template,t.prediction,null,t.at,s);this.drawBitmap(o,a)},onImmediateLosslessGenericRegion:function(){this.onImmediateGenericRegion.apply(this,arguments)},onSymbolDictionary:function(t,n,r,i,o,s){var a=void 0,c=void 0;t.huffman&&(a=N(t,r,this.customTables),c=new R(i,o,s));var u=this.symbols;u||(this.symbols=u={});for(var f=[],l=0,h=r.length;l<h;l++){var d=u[r[l]];d&&(f=f.concat(d))}var p=new e(i,o,s);u[n]=m(t.huffman,t.refinement,f,t.numberOfNewSymbols,t.numberOfExportedSymbols,a,t.template,t.at,t.refinementTemplate,t.refinementAt,p,c)},onImmediateTextRegion:function(t,n,i,o,s){for(var a=t.info,c=void 0,u=void 0,f=this.symbols,l=[],h=0,d=n.length;h<d;h++){var p=f[n[h]];p&&(l=l.concat(p))}var v=(0,r.log2)(l.length);t.huffman&&(u=new R(i,o,s),c=U(t,n,this.customTables,l.length,u));var m=new e(i,o,s),y=g(t.huffman,t.refinement,a.width,a.height,t.defaultPixelValue,t.numberOfSymbolInstances,t.stripSize,l,v,t.transposed,t.dsOffset,t.referenceCorner,t.combinationOperator,c,t.refinementTemplate,t.refinementAt,m,t.logStripSize,u);this.drawBitmap(a,y)},onImmediateLosslessTextRegion:function(){this.onImmediateTextRegion.apply(this,arguments)},onPatternDictionary:function(t,n,r,i,o){var s=this.patterns;s||(this.patterns=s={});var a=new e(r,i,o);s[n]=y(t.mmr,t.patternWidth,t.patternHeight,t.maxPatternIndex,t.template,a)},onImmediateHalftoneRegion:function(t,n,r,i,o){var s=this.patterns[n[0]],a=t.info,c=new e(r,i,o),u=b(t.mmr,s,t.template,a.width,a.height,t.defaultPixelValue,t.enableSkip,t.combinationOperator,t.gridWidth,t.gridHeight,t.gridOffsetX,t.gridOffsetY,t.gridVectorX,t.gridVectorY,c);this.drawBitmap(a,u)},onImmediateLosslessHalftoneRegion:function(){this.onImmediateHalftoneRegion.apply(this,arguments)},onTables:function(t,e,n,r){var i=this.customTables;i||(this.customTables=i={}),i[t]=M(e,n,r)}},E.prototype={buildTree:function(t,e){var n=t.prefixCode>>e&1;if(e<=0)this.children[n]=new E(t);else{var r=this.children[n];r||(this.children[n]=r=new E(null)),r.buildTree(t,e-1)}},decodeNode:function(t){if(this.isLeaf){if(this.isOOB)return null;var e=t.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-e:e)}var n=this.children[t.readBit()];if(!n)throw new s("invalid Huffman data");return n.decodeNode(t)}},A.prototype={decode:function(t){return this.rootNode.decodeNode(t)},assignPrefixCodes:function(t){var e=t.length,n=0,r=void 0;for(r=0;r<e;r++)n=Math.max(n,t[r].prefixLength);var i=new Uint32Array(n+1);for(r=0;r<e;r++)i[t[r].prefixLength]++;var o=1,s=0,a=void 0,c=void 0,u=void 0;i[0]=0;while(o<=n){s=s+i[o-1]<<1,a=s,c=0;while(c<e)u=t[c],u.prefixLength===o&&(u.prefixCode=a,a++),c++;o++}}};var _={};function D(t){var e=_[t];if(e)return e;var n=void 0;switch(t){case 1:n=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:n=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:n=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:n=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:n=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:n=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:n=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:n=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:n=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:n=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:n=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:n=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:n=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:n=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:n=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new s("standard table B."+t+" does not exist")}var r=n.length,i=void 0;for(i=0;i<r;i++)n[i]=new L(n[i]);return e=new A(n,!0),_[t]=e,e}function R(t,e,n){this.data=t,this.start=e,this.end=n,this.position=e,this.shift=-1,this.currentByte=0}function B(t,e,n){var r=0,i=void 0,o=e.length,a=void 0;for(i=0;i<o;i++)if(a=n[e[i]],a){if(t===r)return a;r++}throw new s("can't find custom Huffman table")}function U(t,e,n,r,i){var o=[],a=void 0,c=void 0;for(a=0;a<=34;a++)c=i.readBits(4),o.push(new L([a,c,0,0]));var u=new A(o,!1);for(o.length=0,a=0;a<r;)if(c=u.decode(i),c>=32){var f=void 0,l=void 0,h=void 0;switch(c){case 32:if(0===a)throw new s("no previous value in symbol ID table");l=i.readBits(2)+3,f=o[a-1].prefixLength;break;case 33:l=i.readBits(3)+3,f=0;break;case 34:l=i.readBits(7)+11,f=0;break;default:throw new s("invalid code length in symbol ID table")}for(h=0;h<l;h++)o.push(new L([a,f,0,0])),a++}else o.push(new L([a,c,0,0])),a++;i.byteAlign();var d=new A(o,!1),p=0,v=void 0,m=void 0,g=void 0;switch(t.huffmanFS){case 0:case 1:v=D(t.huffmanFS+6);break;case 3:v=B(p,e,n),p++;break;default:throw new s("invalid Huffman FS selector")}switch(t.huffmanDS){case 0:case 1:case 2:m=D(t.huffmanDS+8);break;case 3:m=B(p,e,n),p++;break;default:throw new s("invalid Huffman DS selector")}switch(t.huffmanDT){case 0:case 1:case 2:g=D(t.huffmanDT+11);break;case 3:g=B(p,e,n),p++;break;default:throw new s("invalid Huffman DT selector")}if(t.refinement)throw new s("refinement with Huffman is not supported");return{symbolIDTable:d,tableFirstS:v,tableDeltaS:m,tableDeltaT:g}}function N(t,e,n){var r=0,i=void 0,o=void 0;switch(t.huffmanDHSelector){case 0:case 1:i=D(t.huffmanDHSelector+4);break;case 3:i=B(r,e,n),r++;break;default:throw new s("invalid Huffman DH selector")}switch(t.huffmanDWSelector){case 0:case 1:o=D(t.huffmanDWSelector+2);break;case 3:o=B(r,e,n),r++;break;default:throw new s("invalid Huffman DW selector")}var a=void 0,c=void 0;return t.bitmapSizeSelector?(a=B(r,e,n),r++):a=D(1),c=t.aggregationInstancesSelector?B(r,e,n):D(1),{tableDeltaHeight:i,tableDeltaWidth:o,tableBitmapSize:a,tableAggregateInstances:c}}function F(t,e,n){var r=[],i=void 0,o=void 0,s=void 0;for(o=0;o<n;o++){for(s=new Uint8Array(e),r.push(s),i=0;i<e;i++)s[i]=t.readBit();t.byteAlign()}return r}function j(t,e,n,r){var i={K:-1,Columns:e,Rows:n,BlackIs1:!0,EndOfBlock:r},s=new o.CCITTFaxDecoder(t,i),a=[],c=void 0,u=void 0,f=void 0,l=void 0,h=void 0,d=!1;for(u=0;u<n;u++)for(f=new Uint8Array(e),a.push(f),h=-1,c=0;c<e;c++)h<0&&(l=s.readNextChar(),-1===l&&(l=0,d=!0),h=7),f[c]=l>>h&1,h--;if(r&&!d)for(var p=5,v=0;v<p;v++)if(-1===s.readNextChar())break;return a}function z(){}return R.prototype={readBit:function(){if(this.shift<0){if(this.position>=this.end)throw new s("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}var t=this.currentByte>>this.shift&1;return this.shift--,t},readBits:function(t){var e=0,n=void 0;for(n=t-1;n>=0;n--)e|=this.readBit()<<n;return e},byteAlign:function(){this.shift=-1},next:function(){return this.position>=this.end?-1:this.data[this.position++]}},z.prototype={parseChunks:function(t){return k(t)},parse:function(t){var e=I(t),n=e.imgData,r=e.width,i=e.height;return this.width=r,this.height=i,n}},z}();e.Jbig2Image=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];function e(t,e,n){this.data=t,this.bp=e,this.dataEnd=n,this.chigh=t[e],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}return e.prototype={byteIn:function(){var t=this.data,e=this.bp;if(255===t[e]){var n=t[e+1];n>143?(this.clow+=65280,this.ct=8):(e++,this.clow+=t[e]<<9,this.ct=7,this.bp=e)}else e++,this.clow+=e<this.dataEnd?t[e]<<8:65280,this.ct=8,this.bp=e;this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)},readBit:function(e,n){var r,i=e[n]>>1,o=1&e[n],s=t[i],a=s.qe,c=this.a-a;if(this.chigh<a)c<a?(c=a,r=o,i=s.nmps):(c=a,r=1^o,1===s.switchFlag&&(o=r),i=s.nlps);else{if(this.chigh-=a,0!==(32768&c))return this.a=c,o;c<a?(r=1^o,1===s.switchFlag&&(o=r),i=s.nlps):(r=o,i=s.nmps)}do{0===this.ct&&this.byteIn(),c<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--}while(0===(32768&c));return this.a=c,e[n]=i<<1|o,r}},e}();e.ArithmeticDecoder=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CCITTFaxDecoder=void 0;var r=n(1),i=function(){var t=-2,e=-1,n=0,i=1,o=2,s=3,a=4,c=5,u=6,f=7,l=8,h=[[-1,-1],[-1,-1],[7,l],[7,f],[6,u],[6,u],[6,c],[6,c],[4,n],[4,n],[4,n],[4,n],[4,n],[4,n],[4,n],[4,n],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,a],[3,a],[3,a],[3,a],[3,a],[3,a],[3,a],[3,a],[3,a],[3,a],[3,a],[3,a],[3,a],[3,a],[3,a],[3,a],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o]],d=[[-1,-1],[12,t],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],p=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],v=[[-1,-1],[-1,-1],[12,t],[12,t],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],m=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],g=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||"function"!==typeof t.next)throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=t,this.eof=!1,this.encoding=e["K"]||0,this.eoline=e["EndOfLine"]||!1,this.byteAlign=e["EncodedByteAlign"]||!1,this.columns=e["Columns"]||1728,this.rows=e["Rows"]||0;var n=e["EndOfBlock"];null!==n&&void 0!==n||(n=!0),this.eoblock=n,this.black=e["BlackIs1"]||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;var r=void 0;while(0===(r=this._lookBits(12)))this._eatBits(1);1===r&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}return y.prototype={readNextChar:function(){if(this.eof)return-1;var t=this.refLine,h=this.codingLine,d=this.columns,p=void 0,v=void 0,m=void 0,g=void 0;if(0===this.outputBits){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;var y=void 0,b=void 0,w=void 0;if(this.nextLine2D){for(g=0;h[g]<d;++g)t[g]=h[g];t[g++]=d,t[g]=d,h[0]=0,this.codingPos=0,p=0,v=0;while(h[this.codingPos]<d)switch(y=this._getTwoDimCode(),y){case n:this._addPixels(t[p+1],v),t[p+1]<d&&(p+=2);break;case i:if(y=b=0,v){do{y+=w=this._getBlackCode()}while(w>=64);do{b+=w=this._getWhiteCode()}while(w>=64)}else{do{y+=w=this._getWhiteCode()}while(w>=64);do{b+=w=this._getBlackCode()}while(w>=64)}this._addPixels(h[this.codingPos]+y,v),h[this.codingPos]<d&&this._addPixels(h[this.codingPos]+b,1^v);while(t[p]<=h[this.codingPos]&&t[p]<d)p+=2;break;case f:if(this._addPixels(t[p]+3,v),v^=1,h[this.codingPos]<d){++p;while(t[p]<=h[this.codingPos]&&t[p]<d)p+=2}break;case c:if(this._addPixels(t[p]+2,v),v^=1,h[this.codingPos]<d){++p;while(t[p]<=h[this.codingPos]&&t[p]<d)p+=2}break;case s:if(this._addPixels(t[p]+1,v),v^=1,h[this.codingPos]<d){++p;while(t[p]<=h[this.codingPos]&&t[p]<d)p+=2}break;case o:if(this._addPixels(t[p],v),v^=1,h[this.codingPos]<d){++p;while(t[p]<=h[this.codingPos]&&t[p]<d)p+=2}break;case l:if(this._addPixelsNeg(t[p]-3,v),v^=1,h[this.codingPos]<d){p>0?--p:++p;while(t[p]<=h[this.codingPos]&&t[p]<d)p+=2}break;case u:if(this._addPixelsNeg(t[p]-2,v),v^=1,h[this.codingPos]<d){p>0?--p:++p;while(t[p]<=h[this.codingPos]&&t[p]<d)p+=2}break;case a:if(this._addPixelsNeg(t[p]-1,v),v^=1,h[this.codingPos]<d){p>0?--p:++p;while(t[p]<=h[this.codingPos]&&t[p]<d)p+=2}break;case e:this._addPixels(d,0),this.eof=!0;break;default:(0,r.info)("bad 2d code"),this._addPixels(d,0),this.err=!0}}else{h[0]=0,this.codingPos=0,v=0;while(h[this.codingPos]<d){if(y=0,v)do{y+=w=this._getBlackCode()}while(w>=64);else do{y+=w=this._getWhiteCode()}while(w>=64);this._addPixels(h[this.codingPos]+y,v),v^=1}}var x=!1;if(this.byteAlign&&(this.inputBits&=-8),this.eoblock||this.row!==this.rows-1){if(y=this._lookBits(12),this.eoline)while(y!==e&&1!==y)this._eatBits(1),y=this._lookBits(12);else while(0===y)this._eatBits(1),y=this._lookBits(12);1===y?(this._eatBits(12),x=!0):y===e&&(this.eof=!0)}else this.rowsDone=!0;if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&x&&this.byteAlign){if(y=this._lookBits(12),1===y){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(g=0;g<4;++g)y=this._lookBits(12),1!==y&&(0,r.info)("bad rtc code: "+y),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){while(1){if(y=this._lookBits(13),y===e)return this.eof=!0,-1;if(y>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(1&y))}h[0]>0?this.outputBits=h[this.codingPos=0]:this.outputBits=h[this.codingPos=1],this.row++}var S=void 0;if(this.outputBits>=8)S=1&this.codingPos?0:255,this.outputBits-=8,0===this.outputBits&&h[this.codingPos]<d&&(this.codingPos++,this.outputBits=h[this.codingPos]-h[this.codingPos-1]);else{m=8,S=0;do{this.outputBits>m?(S<<=m,1&this.codingPos||(S|=255>>8-m),this.outputBits-=m,m=0):(S<<=this.outputBits,1&this.codingPos||(S|=255>>8-this.outputBits),m-=this.outputBits,this.outputBits=0,h[this.codingPos]<d?(this.codingPos++,this.outputBits=h[this.codingPos]-h[this.codingPos-1]):m>0&&(S<<=m,m=0))}while(m)}return this.black&&(S^=255),S},_addPixels:function(t,e){var n=this.codingLine,i=this.codingPos;t>n[i]&&(t>this.columns&&((0,r.info)("row is wrong length"),this.err=!0,t=this.columns),1&i^e&&++i,n[i]=t),this.codingPos=i},_addPixelsNeg:function(t,e){var n=this.codingLine,i=this.codingPos;if(t>n[i])t>this.columns&&((0,r.info)("row is wrong length"),this.err=!0,t=this.columns),1&i^e&&++i,n[i]=t;else if(t<n[i]){t<0&&((0,r.info)("invalid code"),this.err=!0,t=0);while(i>0&&t<n[i-1])--i;n[i]=t}this.codingPos=i},_findTableCode:function(t,n,r,i){for(var o=i||0,s=t;s<=n;++s){var a=this._lookBits(s);if(a===e)return[!0,1,!1];if(s<n&&(a<<=n-s),!o||a>=o){var c=r[a-o];if(c[0]===s)return this._eatBits(s),[!0,c[1],!0]}}return[!1,0,!1]},_getTwoDimCode:function(){var t=0,n=void 0;if(this.eoblock){if(t=this._lookBits(7),n=h[t],n&&n[0]>0)return this._eatBits(n[0]),n[1]}else{var i=this._findTableCode(1,7,h);if(i[0]&&i[2])return i[1]}return(0,r.info)("Bad two dim code"),e},_getWhiteCode:function(){var t=0,n=void 0;if(this.eoblock){if(t=this._lookBits(12),t===e)return 1;if(n=t>>5===0?d[t]:p[t>>3],n[0]>0)return this._eatBits(n[0]),n[1]}else{var i=this._findTableCode(1,9,p);if(i[0])return i[1];if(i=this._findTableCode(11,12,d),i[0])return i[1]}return(0,r.info)("bad white code"),this._eatBits(1),1},_getBlackCode:function(){var t=void 0,n=void 0;if(this.eoblock){if(t=this._lookBits(13),t===e)return 1;if(n=t>>7===0?v[t]:t>>9===0&&t>>7!==0?m[(t>>1)-64]:g[t>>7],n[0]>0)return this._eatBits(n[0]),n[1]}else{var i=this._findTableCode(2,6,g);if(i[0])return i[1];if(i=this._findTableCode(7,12,m,64),i[0])return i[1];if(i=this._findTableCode(10,13,v),i[0])return i[1]}return(0,r.info)("bad black code"),this._eatBits(1),1},_lookBits:function(t){var n=void 0;while(this.inputBits<t){if(-1===(n=this.source.next()))return 0===this.inputBits?e:this.inputBuf<<t-this.inputBits&65535>>16-t;this.inputBuf=this.inputBuf<<8|n,this.inputBits+=8}return this.inputBuf>>this.inputBits-t&65535>>16-t},_eatBits:function(t){(this.inputBits-=t)<0&&(this.inputBits=0)}},y}();e.CCITTFaxDecoder=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JpegImage=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(1),o=function(){function t(t){this.message="JPEG error: "+t}return t.prototype=new Error,t.prototype.name="JpegError",t.constructor=t,t}(),s=function(){function t(t,e){this.message=t,this.scanLines=e}return t.prototype=new Error,t.prototype.name="DNLMarkerError",t.constructor=t,t}(),a=function(){function t(t){this.message=t}return t.prototype=new Error,t.prototype.name="EOIMarkerError",t.constructor=t,t}(),c=function(){var t=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),e=4017,n=799,c=3406,u=2276,f=1567,l=3784,h=5793,d=2896;function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.decodeTransform,n=void 0===e?null:e,r=t.colorTransform,i=void 0===r?-1:r;this._decodeTransform=n,this._colorTransform=i}function v(t,e){var n,r,i=0,o=[],s=16;while(s>0&&!t[s-1])s--;o.push({children:[],index:0});var a,c=o[0];for(n=0;n<s;n++){for(r=0;r<t[n];r++){c=o.pop(),c.children[c.index]=e[i];while(c.index>0)c=o.pop();c.index++,o.push(c);while(o.length<=n)o.push(a={children:[],index:0}),c.children[c.index]=a.children,c=a;i++}n+1<s&&(o.push(a={children:[],index:0}),c.children[c.index]=a.children,c=a)}return o[0].children}function m(t,e,n){return 64*((t.blocksPerLine+1)*e+n)}function g(e,n,c,u,f,l,h,d,p){var v=arguments.length>9&&void 0!==arguments[9]&&arguments[9],g=c.mcusPerLine,y=c.progressive,b=n,x=0,S=0;function P(){if(S>0)return S--,x>>S&1;if(x=e[n++],255===x){var t=e[n++];if(t){if(220===t&&v){n+=2;var r=e[n++]<<8|e[n++];if(r>0&&r!==c.scanLines)throw new s("Found DNL marker (0xFFDC) while parsing scan data",r)}else if(217===t)throw new a("Found EOI marker (0xFFD9) while parsing scan data");throw new o("unexpected marker "+(x<<8|t).toString(16))}}return S=7,x>>>7}function T(t){var e=t;while(1){if(e=e[P()],"number"===typeof e)return e;if("object"!==("undefined"===typeof e?"undefined":r(e)))throw new o("invalid huffman sequence")}}function C(t){var e=0;while(t>0)e=e<<1|P(),t--;return e}function k(t){if(1===t)return 1===P()?1:-1;var e=C(t);return e>=1<<t-1?e:e+(-1<<t)+1}function I(e,n){var r=T(e.huffmanTableDC),i=0===r?0:k(r);e.blockData[n]=e.pred+=i;var o=1;while(o<64){var s=T(e.huffmanTableAC),a=15&s,c=s>>4;if(0!==a){o+=c;var u=t[o];e.blockData[n+u]=k(a),o++}else{if(c<15)break;o+=16}}}function O(t,e){var n=T(t.huffmanTableDC),r=0===n?0:k(n)<<p;t.blockData[e]=t.pred+=r}function L(t,e){t.blockData[e]|=P()<<p}var E=0;function A(e,n){if(E>0)E--;else{var r=l,i=h;while(r<=i){var o=T(e.huffmanTableAC),s=15&o,a=o>>4;if(0!==s){r+=a;var c=t[r];e.blockData[n+c]=k(s)*(1<<p),r++}else{if(a<15){E=C(a)+(1<<a)-1;break}r+=16}}}}var M,_=0;function D(e,n){var r,i,s=l,a=h,c=0;while(s<=a){var u=n+t[s],f=e.blockData[u]<0?-1:1;switch(_){case 0:if(i=T(e.huffmanTableAC),r=15&i,c=i>>4,0===r)c<15?(E=C(c)+(1<<c),_=4):(c=16,_=1);else{if(1!==r)throw new o("invalid ACn encoding");M=k(r),_=c?2:3}continue;case 1:case 2:e.blockData[u]?e.blockData[u]+=f*(P()<<p):(c--,0===c&&(_=2===_?3:0));break;case 3:e.blockData[u]?e.blockData[u]+=f*(P()<<p):(e.blockData[u]=M<<p,_=0);break;case 4:e.blockData[u]&&(e.blockData[u]+=f*(P()<<p));break}s++}4===_&&(E--,0===E&&(_=0))}function R(t,e,n,r,i){var o=n/g|0,s=n%g,a=o*t.v+r,c=s*t.h+i,u=m(t,a,c);e(t,u)}function B(t,e,n){var r=n/t.blocksPerLine|0,i=n%t.blocksPerLine,o=m(t,r,i);e(t,o)}var U,N,F,j,z,H,X=u.length;H=y?0===l?0===d?O:L:0===d?A:D:I;var Y,q,W,V,G=0;q=1===X?u[0].blocksPerLine*u[0].blocksPerColumn:g*c.mcusPerColumn;while(G<q){var J=f?Math.min(q-G,f):q;for(N=0;N<X;N++)u[N].pred=0;if(E=0,1===X)for(U=u[0],z=0;z<J;z++)B(U,H,G),G++;else for(z=0;z<J;z++){for(N=0;N<X;N++)for(U=u[N],W=U.h,V=U.v,F=0;F<V;F++)for(j=0;j<W;j++)R(U,H,G,F,j);G++}S=0,Y=w(e,n),Y&&Y.invalid&&((0,i.warn)("decodeScan - unexpected MCU data, current marker is: "+Y.invalid),n=Y.offset);var K=Y&&Y.marker;if(!K||K<=65280)throw new o("marker was not found");if(!(K>=65488&&K<=65495))break;n+=2}return Y=w(e,n),Y&&Y.invalid&&((0,i.warn)("decodeScan - unexpected Scan data, current marker is: "+Y.invalid),n=Y.offset),n-b}function y(t,r,i){var s,a,p,v,m,g,y,b,w,x,S,P,T,C,k,I,O,L=t.quantizationTable,E=t.blockData;if(!L)throw new o("missing required Quantization Table.");for(var A=0;A<64;A+=8)w=E[r+A],x=E[r+A+1],S=E[r+A+2],P=E[r+A+3],T=E[r+A+4],C=E[r+A+5],k=E[r+A+6],I=E[r+A+7],w*=L[A],0!==(x|S|P|T|C|k|I)?(x*=L[A+1],S*=L[A+2],P*=L[A+3],T*=L[A+4],C*=L[A+5],k*=L[A+6],I*=L[A+7],s=h*w+128>>8,a=h*T+128>>8,p=S,v=k,m=d*(x-I)+128>>8,b=d*(x+I)+128>>8,g=P<<4,y=C<<4,s=s+a+1>>1,a=s-a,O=p*l+v*f+128>>8,p=p*f-v*l+128>>8,v=O,m=m+y+1>>1,y=m-y,b=b+g+1>>1,g=b-g,s=s+v+1>>1,v=s-v,a=a+p+1>>1,p=a-p,O=m*u+b*c+2048>>12,m=m*c-b*u+2048>>12,b=O,O=g*n+y*e+2048>>12,g=g*e-y*n+2048>>12,y=O,i[A]=s+b,i[A+7]=s-b,i[A+1]=a+y,i[A+6]=a-y,i[A+2]=p+g,i[A+5]=p-g,i[A+3]=v+m,i[A+4]=v-m):(O=h*w+512>>10,i[A]=O,i[A+1]=O,i[A+2]=O,i[A+3]=O,i[A+4]=O,i[A+5]=O,i[A+6]=O,i[A+7]=O);for(var M=0;M<8;++M)w=i[M],x=i[M+8],S=i[M+16],P=i[M+24],T=i[M+32],C=i[M+40],k=i[M+48],I=i[M+56],0!==(x|S|P|T|C|k|I)?(s=h*w+2048>>12,a=h*T+2048>>12,p=S,v=k,m=d*(x-I)+2048>>12,b=d*(x+I)+2048>>12,g=P,y=C,s=4112+(s+a+1>>1),a=s-a,O=p*l+v*f+2048>>12,p=p*f-v*l+2048>>12,v=O,m=m+y+1>>1,y=m-y,b=b+g+1>>1,g=b-g,s=s+v+1>>1,v=s-v,a=a+p+1>>1,p=a-p,O=m*u+b*c+2048>>12,m=m*c-b*u+2048>>12,b=O,O=g*n+y*e+2048>>12,g=g*e-y*n+2048>>12,y=O,w=s+b,I=s-b,x=a+y,k=a-y,S=p+g,C=p-g,P=v+m,T=v-m,w=w<16?0:w>=4080?255:w>>4,x=x<16?0:x>=4080?255:x>>4,S=S<16?0:S>=4080?255:S>>4,P=P<16?0:P>=4080?255:P>>4,T=T<16?0:T>=4080?255:T>>4,C=C<16?0:C>=4080?255:C>>4,k=k<16?0:k>=4080?255:k>>4,I=I<16?0:I>=4080?255:I>>4,E[r+M]=w,E[r+M+8]=x,E[r+M+16]=S,E[r+M+24]=P,E[r+M+32]=T,E[r+M+40]=C,E[r+M+48]=k,E[r+M+56]=I):(O=h*w+8192>>14,O=O<-2040?0:O>=2024?255:O+2056>>4,E[r+M]=O,E[r+M+8]=O,E[r+M+16]=O,E[r+M+24]=O,E[r+M+32]=O,E[r+M+40]=O,E[r+M+48]=O,E[r+M+56]=O)}function b(t,e){for(var n=e.blocksPerLine,r=e.blocksPerColumn,i=new Int16Array(64),o=0;o<r;o++)for(var s=0;s<n;s++){var a=m(e,o,s);y(e,a,i)}return e.blockData}function w(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;function r(e){return t[e]<<8|t[e+1]}var i=t.length-1,o=n<e?n:e;if(e>=i)return null;var s=r(e);if(s>=65472&&s<=65534)return{invalid:null,marker:s,offset:e};var a=r(o);while(!(a>=65472&&a<=65534)){if(++o>=i)return null;a=r(o)}return{invalid:s.toString(16),marker:a,offset:o}}return p.prototype={parse:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.dnlScanLines,c=void 0===r?null:r;function u(){var t=e[p]<<8|e[p+1];return p+=2,t}function f(){var t=u(),n=p+t-2,r=w(e,n,p);r&&r.invalid&&((0,i.warn)("readDataBlock - incorrect length, current marker is: "+r.invalid),n=r.offset);var o=e.subarray(p,n);return p+=o.length,o}function l(t){for(var e=Math.ceil(t.samplesPerLine/8/t.maxH),n=Math.ceil(t.scanLines/8/t.maxV),r=0;r<t.components.length;r++){J=t.components[r];var i=Math.ceil(Math.ceil(t.samplesPerLine/8)*J.h/t.maxH),o=Math.ceil(Math.ceil(t.scanLines/8)*J.v/t.maxV),s=e*J.h,a=n*J.v,c=64*a*(s+1);J.blockData=new Int16Array(c),J.blocksPerLine=i,J.blocksPerColumn=o}t.mcusPerLine=e,t.mcusPerColumn=n}var h,d,p=0,m=null,y=null,x=0,S=[],P=[],T=[],C=u();if(65496!==C)throw new o("SOI not found");C=u();t:while(65497!==C){var k,I,O;switch(C){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var L=f();65504===C&&74===L[0]&&70===L[1]&&73===L[2]&&70===L[3]&&0===L[4]&&(m={version:{major:L[5],minor:L[6]},densityUnits:L[7],xDensity:L[8]<<8|L[9],yDensity:L[10]<<8|L[11],thumbWidth:L[12],thumbHeight:L[13],thumbData:L.subarray(14,14+3*L[12]*L[13])}),65518===C&&65===L[0]&&100===L[1]&&111===L[2]&&98===L[3]&&101===L[4]&&(y={version:L[5]<<8|L[6],flags0:L[7]<<8|L[8],flags1:L[9]<<8|L[10],transformCode:L[11]});break;case 65499:var E,A=u(),M=A+p-2;while(p<M){var _=e[p++],D=new Uint16Array(64);if(_>>4===0)for(I=0;I<64;I++)E=t[I],D[E]=e[p++];else{if(_>>4!==1)throw new o("DQT - invalid table spec");for(I=0;I<64;I++)E=t[I],D[E]=u()}S[15&_]=D}break;case 65472:case 65473:case 65474:if(h)throw new o("Only single frame JPEGs supported");u(),h={},h.extended=65473===C,h.progressive=65474===C,h.precision=e[p++];var R=u();h.scanLines=c||R,h.samplesPerLine=u(),h.components=[],h.componentIds={};var B,U=e[p++],N=0,F=0;for(k=0;k<U;k++){B=e[p];var j=e[p+1]>>4,z=15&e[p+1];N<j&&(N=j),F<z&&(F=z);var H=e[p+2];O=h.components.push({h:j,v:z,quantizationId:H,quantizationTable:null}),h.componentIds[B]=O-1,p+=3}h.maxH=N,h.maxV=F,l(h);break;case 65476:var X=u();for(k=2;k<X;){var Y=e[p++],q=new Uint8Array(16),W=0;for(I=0;I<16;I++,p++)W+=q[I]=e[p];var V=new Uint8Array(W);for(I=0;I<W;I++,p++)V[I]=e[p];k+=17+W,(Y>>4===0?T:P)[15&Y]=v(q,V)}break;case 65501:u(),d=u();break;case 65498:var G=1===++x&&!c;u();var J,K=e[p++],Q=[];for(k=0;k<K;k++){var Z=h.componentIds[e[p++]];J=h.components[Z];var $=e[p++];J.huffmanTableDC=T[$>>4],J.huffmanTableAC=P[15&$],Q.push(J)}var tt=e[p++],et=e[p++],nt=e[p++];try{var rt=g(e,p,h,Q,d,tt,et,nt>>4,15&nt,G);p+=rt}catch(st){if(st instanceof s)return(0,i.warn)(st.message+" -- attempting to re-parse the JPEG image."),this.parse(e,{dnlScanLines:st.scanLines});if(st instanceof a){(0,i.warn)(st.message+" -- ignoring the rest of the image data.");break t}throw st}break;case 65500:p+=4;break;case 65535:255!==e[p]&&p--;break;default:if(255===e[p-3]&&e[p-2]>=192&&e[p-2]<=254){p-=3;break}var it=w(e,p-2);if(it&&it.invalid){(0,i.warn)("JpegImage.parse - unexpected data, current marker is: "+it.invalid),p=it.offset;break}throw new o("unknown marker "+C.toString(16))}C=u()}for(this.width=h.samplesPerLine,this.height=h.scanLines,this.jfif=m,this.adobe=y,this.components=[],k=0;k<h.components.length;k++){J=h.components[k];var ot=S[J.quantizationId];ot&&(J.quantizationTable=ot),this.components.push({output:b(h,J),scaleX:J.h/h.maxH,scaleY:J.v/h.maxV,blocksPerLine:J.blocksPerLine,blocksPerColumn:J.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(t,e){var n,r,i,o,s,a,c,u,f,l,h,d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p=this.width/t,v=this.height/e,m=0,g=this.components.length,y=t*e*g,b=new Uint8ClampedArray(y),w=new Uint32Array(t),x=4294967288;for(c=0;c<g;c++){for(n=this.components[c],r=n.scaleX*p,i=n.scaleY*v,m=c,h=n.output,o=n.blocksPerLine+1<<3,s=0;s<t;s++)u=0|s*r,w[s]=(u&x)<<3|7&u;for(a=0;a<e;a++)for(u=0|a*i,l=o*(u&x)|(7&u)<<3,s=0;s<t;s++)b[m]=h[l+w[s]],m+=g}var S=this._decodeTransform;if(d||4!==g||S||(S=new Int32Array([-256,255,-256,255,-256,255,-256,255])),S)for(c=0;c<y;)for(u=0,f=0;u<g;u++,c++,f+=2)b[c]=(b[c]*S[f]>>8)+S[f+1];return b},get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this._colorTransform:1===this._colorTransform},_convertYccToRgb:function(t){for(var e,n,r,i=0,o=t.length;i<o;i+=3)e=t[i],n=t[i+1],r=t[i+2],t[i]=e-179.456+1.402*r,t[i+1]=e+135.459-.344*n-.714*r,t[i+2]=e-226.816+1.772*n;return t},_convertYcckToRgb:function(t){for(var e,n,r,i,o=0,s=0,a=t.length;s<a;s+=4)e=t[s],n=t[s+1],r=t[s+2],i=t[s+3],t[o++]=n*(-660635669420364e-19*n+.000437130475926232*r-54080610064599e-18*e+.00048449797120281*i-.154362151871126)-122.67195406894+r*(-.000957964378445773*r+.000817076911346625*e-.00477271405408747*i+1.53380253221734)+e*(.000961250184130688*e-.00266257332283933*i+.48357088451265)+i*(-.000336197177618394*i+.484791561490776),t[o++]=107.268039397724+n*(219927104525741e-19*n-.000640992018297945*r+.000659397001245577*e+.000426105652938837*i-.176491792462875)+r*(-.000778269941513683*r+.00130872261408275*e+.000770482631801132*i-.151051492775562)+e*(.00126935368114843*e-.00265090189010898*i+.25802910206845)+i*(-.000318913117588328*i-.213742400323665),t[o++]=n*(-.000570115196973677*n-263409051004589e-19*r+.0020741088115012*e-.00288260236853442*i+.814272968359295)-20.810012546947+r*(-153496057440975e-19*r-.000132689043961446*e+.000560833691242812*i-.195152027534049)+e*(.00174418132927582*e-.00255243321439347*i+.116935020465145)+i*(-.000343531996510555*i+.24165260232407);return t.subarray(0,o)},_convertYcckToCmyk:function(t){for(var e,n,r,i=0,o=t.length;i<o;i+=4)e=t[i],n=t[i+1],r=t[i+2],t[i]=434.456-e-1.402*r,t[i+1]=119.541-e+.344*n+.714*r,t[i+2]=481.816-e-1.772*n;return t},_convertCmykToRgb:function(t){for(var e,n,r,i,o=0,s=1/255,a=0,c=t.length;a<c;a+=4)e=t[a]*s,n=t[a+1]*s,r=t[a+2]*s,i=t[a+3]*s,t[o++]=255+e*(-4.387332384609988*e+54.48615194189176*n+18.82290502165302*r+212.25662451639585*i-285.2331026137004)+n*(1.7149763477362134*n-5.6096736904047315*r-17.873870861415444*i-5.497006427196366)+r*(-2.5217340131683033*r-21.248923337353073*i+17.5119270841813)-i*(21.86122147463605*i+189.48180835922747),t[o++]=255+e*(8.841041422036149*e+60.118027045597366*n+6.871425592049007*r+31.159100130055922*i-79.2970844816548)+n*(-15.310361306967817*n+17.575251261109482*r+131.35250912493976*i-190.9453302588951)+r*(4.444339102852739*r+9.8632861493405*i-24.86741582555878)-i*(20.737325471181034*i+187.80453709719578),t[o++]=255+e*(.8842522430003296*e+8.078677503112928*n+30.89978309703729*r-.23883238689178934*i-14.183576799673286)+n*(10.49593273432072*n+63.02378494754052*r+50.606957656360734*i-112.23884253719248)+r*(.03296041114873217*r+115.60384449646641*i-193.58209356861505)-i*(22.33816807309886*i+180.12613974708367);return t.subarray(0,o)},getData:function(t){var e=t.width,n=t.height,r=t.forceRGB,i=void 0!==r&&r,s=t.isSourcePDF,a=void 0!==s&&s;if(this.numComponents>4)throw new o("Unsupported color mode");var c=this._getLinearizedBlockData(e,n,a);if(1===this.numComponents&&i){for(var u=c.length,f=new Uint8ClampedArray(3*u),l=0,h=0;h<u;h++){var d=c[h];f[l++]=d,f[l++]=d,f[l++]=d}return f}if(3===this.numComponents&&this._isColorConversionNeeded)return this._convertYccToRgb(c);if(4===this.numComponents){if(this._isColorConversionNeeded)return i?this._convertYcckToRgb(c):this._convertYcckToCmyk(c);if(i)return this._convertCmykToRgb(c)}return c}},p}();e.JpegImage=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JpxImage=void 0;var r=n(1),i=n(114),o=function(){function t(t){this.message="JPX error: "+t}return t.prototype=new Error,t.prototype.name="JpxError",t.constructor=t,t}(),s=function(){var t={LL:0,LH:1,HL:1,HH:2};function e(){this.failOnCorruptedImage=!1}function n(t,e){t.x0=Math.ceil(e.XOsiz/t.XRsiz),t.x1=Math.ceil(e.Xsiz/t.XRsiz),t.y0=Math.ceil(e.YOsiz/t.YRsiz),t.y1=Math.ceil(e.Ysiz/t.YRsiz),t.width=t.x1-t.x0,t.height=t.y1-t.y0}function s(t,e){for(var n,r=t.SIZ,i=[],o=Math.ceil((r.Xsiz-r.XTOsiz)/r.XTsiz),s=Math.ceil((r.Ysiz-r.YTOsiz)/r.YTsiz),a=0;a<s;a++)for(var c=0;c<o;c++)n={},n.tx0=Math.max(r.XTOsiz+c*r.XTsiz,r.XOsiz),n.ty0=Math.max(r.YTOsiz+a*r.YTsiz,r.YOsiz),n.tx1=Math.min(r.XTOsiz+(c+1)*r.XTsiz,r.Xsiz),n.ty1=Math.min(r.YTOsiz+(a+1)*r.YTsiz,r.Ysiz),n.width=n.tx1-n.tx0,n.height=n.ty1-n.ty0,n.components=[],i.push(n);t.tiles=i;for(var u=r.Csiz,f=0,l=u;f<l;f++)for(var h=e[f],d=0,p=i.length;d<p;d++){var v={};n=i[d],v.tcx0=Math.ceil(n.tx0/h.XRsiz),v.tcy0=Math.ceil(n.ty0/h.YRsiz),v.tcx1=Math.ceil(n.tx1/h.XRsiz),v.tcy1=Math.ceil(n.ty1/h.YRsiz),v.width=v.tcx1-v.tcx0,v.height=v.tcy1-v.tcy0,n.components[f]=v}}function a(t,e,n){var r=e.codingStyleParameters,i={};return r.entropyCoderWithCustomPrecincts?(i.PPx=r.precinctsSizes[n].PPx,i.PPy=r.precinctsSizes[n].PPy):(i.PPx=15,i.PPy=15),i.xcb_=n>0?Math.min(r.xcb,i.PPx-1):Math.min(r.xcb,i.PPx),i.ycb_=n>0?Math.min(r.ycb,i.PPy-1):Math.min(r.ycb,i.PPy),i}function c(t,e,n){var r=1<<n.PPx,i=1<<n.PPy,o=0===e.resLevel,s=1<<n.PPx+(o?0:-1),a=1<<n.PPy+(o?0:-1),c=e.trx1>e.trx0?Math.ceil(e.trx1/r)-Math.floor(e.trx0/r):0,u=e.try1>e.try0?Math.ceil(e.try1/i)-Math.floor(e.try0/i):0,f=c*u;e.precinctParameters={precinctWidth:r,precinctHeight:i,numprecinctswide:c,numprecinctshigh:u,numprecincts:f,precinctWidthInSubband:s,precinctHeightInSubband:a}}function u(t,e,n){var r,i,o,s,a=n.xcb_,c=n.ycb_,u=1<<a,f=1<<c,l=e.tbx0>>a,h=e.tby0>>c,d=e.tbx1+u-1>>a,p=e.tby1+f-1>>c,v=e.resolution.precinctParameters,m=[],g=[];for(i=h;i<p;i++)for(r=l;r<d;r++){o={cbx:r,cby:i,tbx0:u*r,tby0:f*i,tbx1:u*(r+1),tby1:f*(i+1)},o.tbx0_=Math.max(e.tbx0,o.tbx0),o.tby0_=Math.max(e.tby0,o.tby0),o.tbx1_=Math.min(e.tbx1,o.tbx1),o.tby1_=Math.min(e.tby1,o.tby1);var y=Math.floor((o.tbx0_-e.tbx0)/v.precinctWidthInSubband),b=Math.floor((o.tby0_-e.tby0)/v.precinctHeightInSubband);if(s=y+b*v.numprecinctswide,o.precinctNumber=s,o.subbandType=e.type,o.Lblock=3,!(o.tbx1_<=o.tbx0_||o.tby1_<=o.tby0_)){m.push(o);var w=g[s];void 0!==w?(r<w.cbxMin?w.cbxMin=r:r>w.cbxMax&&(w.cbxMax=r),i<w.cbyMin?w.cbxMin=i:i>w.cbyMax&&(w.cbyMax=i)):g[s]=w={cbxMin:r,cbyMin:i,cbxMax:r,cbyMax:i},o.precinct=w}}e.codeblockParameters={codeblockWidth:a,codeblockHeight:c,numcodeblockwide:d-l+1,numcodeblockhigh:p-h+1},e.codeblocks=m,e.precincts=g}function f(t,e,n){for(var r=[],i=t.subbands,o=0,s=i.length;o<s;o++)for(var a=i[o],c=a.codeblocks,u=0,f=c.length;u<f;u++){var l=c[u];l.precinctNumber===e&&r.push(l)}return{layerNumber:n,codeblocks:r}}function l(t){for(var e=t.SIZ,n=t.currentTile.index,r=t.tiles[n],i=r.codingStyleDefaultParameters.layersCount,s=e.Csiz,a=0,c=0;c<s;c++)a=Math.max(a,r.components[c].codingStyleParameters.decompositionLevelsCount);var u=0,l=0,h=0,d=0;this.nextPacket=function(){for(;u<i;u++){for(;l<=a;l++){for(;h<s;h++){var t=r.components[h];if(!(l>t.codingStyleParameters.decompositionLevelsCount)){for(var e=t.resolutions[l],n=e.precinctParameters.numprecincts;d<n;){var c=f(e,d,u);return d++,c}d=0}}h=0}l=0}throw new o("Out of packets")}}function h(t){for(var e=t.SIZ,n=t.currentTile.index,r=t.tiles[n],i=r.codingStyleDefaultParameters.layersCount,s=e.Csiz,a=0,c=0;c<s;c++)a=Math.max(a,r.components[c].codingStyleParameters.decompositionLevelsCount);var u=0,l=0,h=0,d=0;this.nextPacket=function(){for(;u<=a;u++){for(;l<i;l++){for(;h<s;h++){var t=r.components[h];if(!(u>t.codingStyleParameters.decompositionLevelsCount)){for(var e=t.resolutions[u],n=e.precinctParameters.numprecincts;d<n;){var c=f(e,d,l);return d++,c}d=0}}h=0}l=0}throw new o("Out of packets")}}function d(t){var e,n,r,i,s=t.SIZ,a=t.currentTile.index,c=t.tiles[a],u=c.codingStyleDefaultParameters.layersCount,l=s.Csiz,h=0;for(r=0;r<l;r++){var d=c.components[r];h=Math.max(h,d.codingStyleParameters.decompositionLevelsCount)}var p=new Int32Array(h+1);for(n=0;n<=h;++n){var v=0;for(r=0;r<l;++r){var m=c.components[r].resolutions;n<m.length&&(v=Math.max(v,m[n].precinctParameters.numprecincts))}p[n]=v}e=0,n=0,r=0,i=0,this.nextPacket=function(){for(;n<=h;n++){for(;i<p[n];i++){for(;r<l;r++){var t=c.components[r];if(!(n>t.codingStyleParameters.decompositionLevelsCount)){var s=t.resolutions[n],a=s.precinctParameters.numprecincts;if(!(i>=a)){for(;e<u;){var d=f(s,i,e);return e++,d}e=0}}}r=0}i=0}throw new o("Out of packets")}}function p(t){var e=t.SIZ,n=t.currentTile.index,r=t.tiles[n],i=r.codingStyleDefaultParameters.layersCount,s=e.Csiz,a=g(r),c=a,u=0,l=0,h=0,d=0,p=0;this.nextPacket=function(){for(;p<c.maxNumHigh;p++){for(;d<c.maxNumWide;d++){for(;h<s;h++){for(var t=r.components[h],e=t.codingStyleParameters.decompositionLevelsCount;l<=e;l++){var n=t.resolutions[l],v=a.components[h].resolutions[l],g=m(d,p,v,c,n);if(null!==g){for(;u<i;){var y=f(n,g,u);return u++,y}u=0}}l=0}h=0}d=0}throw new o("Out of packets")}}function v(t){var e=t.SIZ,n=t.currentTile.index,r=t.tiles[n],i=r.codingStyleDefaultParameters.layersCount,s=e.Csiz,a=g(r),c=0,u=0,l=0,h=0,d=0;this.nextPacket=function(){for(;l<s;++l){for(var t=r.components[l],e=a.components[l],n=t.codingStyleParameters.decompositionLevelsCount;d<e.maxNumHigh;d++){for(;h<e.maxNumWide;h++){for(;u<=n;u++){var p=t.resolutions[u],v=e.resolutions[u],g=m(h,d,v,e,p);if(null!==g){for(;c<i;){var y=f(p,g,c);return c++,y}c=0}}u=0}h=0}d=0}throw new o("Out of packets")}}function m(t,e,n,r,i){var o=t*r.minWidth,s=e*r.minHeight;if(o%n.width!==0||s%n.height!==0)return null;var a=s/n.width*i.precinctParameters.numprecinctswide;return o/n.height+a}function g(t){for(var e=t.components.length,n=Number.MAX_VALUE,r=Number.MAX_VALUE,i=0,o=0,s=new Array(e),a=0;a<e;a++){for(var c=t.components[a],u=c.codingStyleParameters.decompositionLevelsCount,f=new Array(u+1),l=Number.MAX_VALUE,h=Number.MAX_VALUE,d=0,p=0,v=1,m=u;m>=0;--m){var g=c.resolutions[m],y=v*g.precinctParameters.precinctWidth,b=v*g.precinctParameters.precinctHeight;l=Math.min(l,y),h=Math.min(h,b),d=Math.max(d,g.precinctParameters.numprecinctswide),p=Math.max(p,g.precinctParameters.numprecinctshigh),f[m]={width:y,height:b},v<<=1}n=Math.min(n,l),r=Math.min(r,h),i=Math.max(i,d),o=Math.max(o,p),s[a]={resolutions:f,minWidth:l,minHeight:h,maxNumWide:d,maxNumHigh:p}}return{components:s,minWidth:n,minHeight:r,maxNumWide:i,maxNumHigh:o}}function y(t){for(var e=t.SIZ,n=t.currentTile.index,r=t.tiles[n],i=e.Csiz,s=0;s<i;s++){for(var f=r.components[s],m=f.codingStyleParameters.decompositionLevelsCount,g=[],y=[],b=0;b<=m;b++){var w,x=a(t,f,b),S={},P=1<<m-b;if(S.trx0=Math.ceil(f.tcx0/P),S.try0=Math.ceil(f.tcy0/P),S.trx1=Math.ceil(f.tcx1/P),S.try1=Math.ceil(f.tcy1/P),S.resLevel=b,c(t,S,x),g.push(S),0===b)w={},w.type="LL",w.tbx0=Math.ceil(f.tcx0/P),w.tby0=Math.ceil(f.tcy0/P),w.tbx1=Math.ceil(f.tcx1/P),w.tby1=Math.ceil(f.tcy1/P),w.resolution=S,u(t,w,x),y.push(w),S.subbands=[w];else{var T=1<<m-b+1,C=[];w={},w.type="HL",w.tbx0=Math.ceil(f.tcx0/T-.5),w.tby0=Math.ceil(f.tcy0/T),w.tbx1=Math.ceil(f.tcx1/T-.5),w.tby1=Math.ceil(f.tcy1/T),w.resolution=S,u(t,w,x),y.push(w),C.push(w),w={},w.type="LH",w.tbx0=Math.ceil(f.tcx0/T),w.tby0=Math.ceil(f.tcy0/T-.5),w.tbx1=Math.ceil(f.tcx1/T),w.tby1=Math.ceil(f.tcy1/T-.5),w.resolution=S,u(t,w,x),y.push(w),C.push(w),w={},w.type="HH",w.tbx0=Math.ceil(f.tcx0/T-.5),w.tby0=Math.ceil(f.tcy0/T-.5),w.tbx1=Math.ceil(f.tcx1/T-.5),w.tby1=Math.ceil(f.tcy1/T-.5),w.resolution=S,u(t,w,x),y.push(w),C.push(w),S.subbands=C}}f.resolutions=g,f.subbands=y}var k=r.codingStyleDefaultParameters.progressionOrder;switch(k){case 0:r.packetsIterator=new l(t);break;case 1:r.packetsIterator=new h(t);break;case 2:r.packetsIterator=new d(t);break;case 3:r.packetsIterator=new p(t);break;case 4:r.packetsIterator=new v(t);break;default:throw new o("Unsupported progression order "+k)}}function b(t,e,n,i){var o,s=0,a=0,c=!1;function u(t){while(a<t){var r=e[n+s];s++,c?(o=o<<7|r,a+=7,c=!1):(o=o<<8|r,a+=8),255===r&&(c=!0)}return a-=t,o>>>a&(1<<t)-1}function f(t){return 255===e[n+s-1]&&e[n+s]===t?(l(1),!0):255===e[n+s]&&e[n+s+1]===t&&(l(2),!0)}function l(t){s+=t}function h(){a=0,c&&(s++,c=!1)}function d(){if(0===u(1))return 1;if(0===u(1))return 2;var t=u(2);return t<3?t+3:(t=u(5),t<31?t+6:(t=u(7),t+37))}var p=t.currentTile.index,v=t.tiles[p],m=t.COD.sopMarkerUsed,g=t.COD.ephMarkerUsed,y=v.packetsIterator;while(s<i){h(),m&&f(145)&&l(4);var b=y.nextPacket();if(u(1)){for(var w,x=b.layerNumber,S=[],P=0,k=b.codeblocks.length;P<k;P++){w=b.codeblocks[P];var I,O=w.precinct,L=w.cbx-O.cbxMin,E=w.cby-O.cbyMin,A=!1,M=!1;if(void 0!==w["included"])A=!!u(1);else{var _,D;if(O=w.precinct,void 0!==O["inclusionTree"])_=O.inclusionTree;else{var R=O.cbxMax-O.cbxMin+1,B=O.cbyMax-O.cbyMin+1;_=new C(R,B,x),D=new T(R,B),O.inclusionTree=_,O.zeroBitPlanesTree=D}if(_.reset(L,E,x))while(1){if(!u(1)){_.incrementValue(x);break}if(I=!_.nextLevel(),I){w.included=!0,A=M=!0;break}}}if(A){if(M){D=O.zeroBitPlanesTree,D.reset(L,E);while(1)if(u(1)){if(I=!D.nextLevel(),I)break}else D.incrementValue();w.zeroBitPlanes=D.value}var U=d();while(u(1))w.Lblock++;var N=(0,r.log2)(U),F=(U<1<<N?N-1:N)+w.Lblock,j=u(F);S.push({codeblock:w,codingpasses:U,dataLength:j})}}h(),g&&f(146);while(S.length>0){var z=S.shift();w=z.codeblock,void 0===w["data"]&&(w.data=[]),w.data.push({data:e,start:n+s,end:n+s+z.dataLength,codingpasses:z.codingpasses}),s+=z.dataLength}}}return s}function w(t,e,n,r,o,s,a,c){for(var u=r.tbx0,f=r.tby0,l=r.tbx1-r.tbx0,h=r.codeblocks,d="H"===r.type.charAt(0)?1:0,p="H"===r.type.charAt(1)?e:0,v=0,m=h.length;v<m;++v){var g=h[v],y=g.tbx1_-g.tbx0_,b=g.tby1_-g.tby0_;if(0!==y&&0!==b&&void 0!==g["data"]){var w,x;w=new k(y,b,g.subbandType,g.zeroBitPlanes,s),x=2;var S,P,T,C=g.data,I=0,O=0;for(S=0,P=C.length;S<P;S++)T=C[S],I+=T.end-T.start,O+=T.codingpasses;var L=new Uint8Array(I),E=0;for(S=0,P=C.length;S<P;S++){T=C[S];var A=T.data.subarray(T.start,T.end);L.set(A,E),E+=A.length}var M=new i.ArithmeticDecoder(L,0,I);for(w.setDecoder(M),S=0;S<O;S++){switch(x){case 0:w.runSignificancePropagationPass();break;case 1:w.runMagnitudeRefinementPass();break;case 2:w.runCleanupPass(),c&&w.checkSegmentationSymbol();break}x=(x+1)%3}var _,D,R,B=g.tbx0_-u+(g.tby0_-f)*l,U=w.coefficentsSign,N=w.coefficentsMagnitude,F=w.bitsDecoded,j=a?0:.5;E=0;var z="LL"!==r.type;for(S=0;S<b;S++){var H=B/l|0,X=2*H*(e-l)+d+p;for(_=0;_<y;_++){if(D=N[E],0!==D){D=(D+j)*o,0!==U[E]&&(D=-D),R=F[E];var Y=z?X+(B<<1):B;t[Y]=a&&R>=s?D:D*(1<<s-R)}B++,E++}B+=l-y}}}}function x(e,n,r){for(var i=n.components[r],o=i.codingStyleParameters,s=i.quantizationParameters,a=o.decompositionLevelsCount,c=s.SPqcds,u=s.scalarExpounded,f=s.guardBits,l=o.segmentationSymbolUsed,h=e.components[r].precision,d=o.reversibleTransformation,p=d?new L:new O,v=[],m=0,g=0;g<=a;g++){for(var y=i.resolutions[g],b=y.trx1-y.trx0,x=y.try1-y.try0,S=new Float32Array(b*x),P=0,T=y.subbands.length;P<T;P++){var C,k;u?(C=c[m].mu,k=c[m].epsilon,m++):(C=c[0].mu,k=c[0].epsilon+(g>0?1-g:0));var I=y.subbands[P],E=t[I.type],A=d?1:Math.pow(2,h+E-k)*(1+C/2048),M=f+k-1;w(S,b,x,I,A,M,d,l)}v.push({width:b,height:x,items:S})}var _=p.calculate(v,i.tcx0,i.tcy0);return{left:i.tcx0,top:i.tcy0,width:_.width,height:_.height,items:_.items}}function S(t){for(var e=t.SIZ,n=t.components,r=e.Csiz,i=[],o=0,s=t.tiles.length;o<s;o++){var a,c=t.tiles[o],u=[];for(a=0;a<r;a++)u[a]=x(t,c,a);var f,l,h,d,p,v,m,g=u[0],y=new Uint8ClampedArray(g.items.length*r),b={left:g.left,top:g.top,width:g.width,height:g.height,items:y},w=0;if(c.codingStyleDefaultParameters.multipleComponentTransform){var S=4===r,P=u[0].items,T=u[1].items,C=u[2].items,k=S?u[3].items:null;f=n[0].precision-8,l=.5+(128<<f);var I=c.components[0],O=r-3;if(d=P.length,I.codingStyleParameters.reversibleTransformation)for(h=0;h<d;h++,w+=O){p=P[h]+l,v=T[h],m=C[h];var L=p-(m+v>>2);y[w++]=L+m>>f,y[w++]=L>>f,y[w++]=L+v>>f}else for(h=0;h<d;h++,w+=O)p=P[h]+l,v=T[h],m=C[h],y[w++]=p+1.402*m>>f,y[w++]=p-.34413*v-.71414*m>>f,y[w++]=p+1.772*v>>f;if(S)for(h=0,w=3;h<d;h++,w+=4)y[w]=k[h]+l>>f}else for(a=0;a<r;a++){var E=u[a].items;for(f=n[a].precision-8,l=.5+(128<<f),w=a,h=0,d=E.length;h<d;h++)y[w]=E[h]+l>>f,w+=r}i.push(b)}return i}function P(t,e){for(var n=t.SIZ,r=n.Csiz,i=t.tiles[e],o=0;o<r;o++){var s=i.components[o],a=void 0!==t.currentTile.QCC[o]?t.currentTile.QCC[o]:t.currentTile.QCD;s.quantizationParameters=a;var c=void 0!==t.currentTile.COC[o]?t.currentTile.COC[o]:t.currentTile.COD;s.codingStyleParameters=c}i.codingStyleDefaultParameters=t.currentTile.COD}e.prototype={parse:function(t){var e=(0,r.readUint16)(t,0);if(65359!==e){var n=0,i=t.length;while(n<i){var s=8,a=(0,r.readUint32)(t,n),c=(0,r.readUint32)(t,n+4);if(n+=s,1===a&&(a=4294967296*(0,r.readUint32)(t,n)+(0,r.readUint32)(t,n+4),n+=8,s+=8),0===a&&(a=i-n+s),a<s)throw new o("Invalid box field size");var u=a-s,f=!0;switch(c){case 1785737832:f=!1;break;case 1668246642:var l=t[n];if(1===l){var h=(0,r.readUint32)(t,n+3);switch(h){case 16:case 17:case 18:break;default:(0,r.warn)("Unknown colorspace "+h);break}}else 2===l&&(0,r.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(t,n,n+u);break;case 1783636e3:218793738!==(0,r.readUint32)(t,n)&&(0,r.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:var d=String.fromCharCode(c>>24&255,c>>16&255,c>>8&255,255&c);(0,r.warn)("Unsupported header type "+c+" ("+d+")");break}f&&(n+=u)}}else this.parseCodestream(t,0,t.length)},parseImageProperties:function(t){var e=t.getByte();while(e>=0){var n=e;e=t.getByte();var r=n<<8|e;if(65361===r){t.skip(4);var i=t.getInt32()>>>0,s=t.getInt32()>>>0,a=t.getInt32()>>>0,c=t.getInt32()>>>0;t.skip(16);var u=t.getUint16();return this.width=i-a,this.height=s-c,this.componentsCount=u,void(this.bitsPerComponent=8)}}throw new o("No size marker found in JPX stream")},parseCodestream:function(t,e,i){var a={},c=!1;try{var u=e;while(u+1<i){var f=(0,r.readUint16)(t,u);u+=2;var l,h,d,p,v,m,g=0;switch(f){case 65359:a.mainHeader=!0;break;case 65497:break;case 65361:g=(0,r.readUint16)(t,u);var w={};w.Xsiz=(0,r.readUint32)(t,u+4),w.Ysiz=(0,r.readUint32)(t,u+8),w.XOsiz=(0,r.readUint32)(t,u+12),w.YOsiz=(0,r.readUint32)(t,u+16),w.XTsiz=(0,r.readUint32)(t,u+20),w.YTsiz=(0,r.readUint32)(t,u+24),w.XTOsiz=(0,r.readUint32)(t,u+28),w.YTOsiz=(0,r.readUint32)(t,u+32);var x=(0,r.readUint16)(t,u+36);w.Csiz=x;var T=[];l=u+38;for(var C=0;C<x;C++){var k={precision:1+(127&t[l]),isSigned:!!(128&t[l]),XRsiz:t[l+1],YRsiz:t[l+2]};l+=3,n(k,w),T.push(k)}a.SIZ=w,a.components=T,s(a,T),a.QCC=[],a.COC=[];break;case 65372:g=(0,r.readUint16)(t,u);var I={};switch(l=u+2,h=t[l++],31&h){case 0:p=8,v=!0;break;case 1:p=16,v=!1;break;case 2:p=16,v=!0;break;default:throw new Error("Invalid SQcd value "+h)}I.noQuantization=8===p,I.scalarExpounded=v,I.guardBits=h>>5,d=[];while(l<g+u){var O={};8===p?(O.epsilon=t[l++]>>3,O.mu=0):(O.epsilon=t[l]>>3,O.mu=(7&t[l])<<8|t[l+1],l+=2),d.push(O)}I.SPqcds=d,a.mainHeader?a.QCD=I:(a.currentTile.QCD=I,a.currentTile.QCC=[]);break;case 65373:g=(0,r.readUint16)(t,u);var L,E={};switch(l=u+2,a.SIZ.Csiz<257?L=t[l++]:(L=(0,r.readUint16)(t,l),l+=2),h=t[l++],31&h){case 0:p=8,v=!0;break;case 1:p=16,v=!1;break;case 2:p=16,v=!0;break;default:throw new Error("Invalid SQcd value "+h)}E.noQuantization=8===p,E.scalarExpounded=v,E.guardBits=h>>5,d=[];while(l<g+u)O={},8===p?(O.epsilon=t[l++]>>3,O.mu=0):(O.epsilon=t[l]>>3,O.mu=(7&t[l])<<8|t[l+1],l+=2),d.push(O);E.SPqcds=d,a.mainHeader?a.QCC[L]=E:a.currentTile.QCC[L]=E;break;case 65362:g=(0,r.readUint16)(t,u);var A={};l=u+2;var M=t[l++];A.entropyCoderWithCustomPrecincts=!!(1&M),A.sopMarkerUsed=!!(2&M),A.ephMarkerUsed=!!(4&M),A.progressionOrder=t[l++],A.layersCount=(0,r.readUint16)(t,l),l+=2,A.multipleComponentTransform=t[l++],A.decompositionLevelsCount=t[l++],A.xcb=2+(15&t[l++]),A.ycb=2+(15&t[l++]);var _=t[l++];if(A.selectiveArithmeticCodingBypass=!!(1&_),A.resetContextProbabilities=!!(2&_),A.terminationOnEachCodingPass=!!(4&_),A.verticallyStripe=!!(8&_),A.predictableTermination=!!(16&_),A.segmentationSymbolUsed=!!(32&_),A.reversibleTransformation=t[l++],A.entropyCoderWithCustomPrecincts){var D=[];while(l<g+u){var R=t[l++];D.push({PPx:15&R,PPy:R>>4})}A.precinctsSizes=D}var B=[];if(A.selectiveArithmeticCodingBypass&&B.push("selectiveArithmeticCodingBypass"),A.resetContextProbabilities&&B.push("resetContextProbabilities"),A.terminationOnEachCodingPass&&B.push("terminationOnEachCodingPass"),A.verticallyStripe&&B.push("verticallyStripe"),A.predictableTermination&&B.push("predictableTermination"),B.length>0)throw c=!0,new Error("Unsupported COD options ("+B.join(", ")+")");a.mainHeader?a.COD=A:(a.currentTile.COD=A,a.currentTile.COC=[]);break;case 65424:g=(0,r.readUint16)(t,u),m={},m.index=(0,r.readUint16)(t,u+2),m.length=(0,r.readUint32)(t,u+4),m.dataEnd=m.length+u-2,m.partIndex=t[u+8],m.partsCount=t[u+9],a.mainHeader=!1,0===m.partIndex&&(m.COD=a.COD,m.COC=a.COC.slice(0),m.QCD=a.QCD,m.QCC=a.QCC.slice(0)),a.currentTile=m;break;case 65427:m=a.currentTile,0===m.partIndex&&(P(a,m.index),y(a)),g=m.dataEnd-u,b(a,t,u,g);break;case 65365:case 65367:case 65368:case 65380:g=(0,r.readUint16)(t,u);break;case 65363:throw new Error("Codestream code 0xFF53 (COC) is not implemented");default:throw new Error("Unknown codestream code: "+f.toString(16))}u+=g}}catch(U){if(c||this.failOnCorruptedImage)throw new o(U.message);(0,r.warn)("JPX: Trying to recover from: "+U.message)}this.tiles=S(a),this.width=a.SIZ.Xsiz-a.SIZ.XOsiz,this.height=a.SIZ.Ysiz-a.SIZ.YOsiz,this.componentsCount=a.SIZ.Csiz}};var T=function(){function t(t,e){var n=(0,r.log2)(Math.max(t,e))+1;this.levels=[];for(var i=0;i<n;i++){var o={width:t,height:e,items:[]};this.levels.push(o),t=Math.ceil(t/2),e=Math.ceil(e/2)}}return t.prototype={reset:function(t,e){var n,r=0,i=0;while(r<this.levels.length){n=this.levels[r];var o=t+e*n.width;if(void 0!==n.items[o]){i=n.items[o];break}n.index=o,t>>=1,e>>=1,r++}r--,n=this.levels[r],n.items[n.index]=i,this.currentLevel=r,delete this.value},incrementValue:function(){var t=this.levels[this.currentLevel];t.items[t.index]++},nextLevel:function(){var t=this.currentLevel,e=this.levels[t],n=e.items[e.index];return t--,t<0?(this.value=n,!1):(this.currentLevel=t,e=this.levels[t],e.items[e.index]=n,!0)}},t}(),C=function(){function t(t,e,n){var i=(0,r.log2)(Math.max(t,e))+1;this.levels=[];for(var o=0;o<i;o++){for(var s=new Uint8Array(t*e),a=0,c=s.length;a<c;a++)s[a]=n;var u={width:t,height:e,items:s};this.levels.push(u),t=Math.ceil(t/2),e=Math.ceil(e/2)}}return t.prototype={reset:function(t,e,n){var r=0;while(r<this.levels.length){var i=this.levels[r],o=t+e*i.width;i.index=o;var s=i.items[o];if(255===s)break;if(s>n)return this.currentLevel=r,this.propagateValues(),!1;t>>=1,e>>=1,r++}return this.currentLevel=r-1,!0},incrementValue:function(t){var e=this.levels[this.currentLevel];e.items[e.index]=t+1,this.propagateValues()},propagateValues:function(){var t=this.currentLevel,e=this.levels[t],n=e.items[e.index];while(--t>=0)e=this.levels[t],e.items[e.index]=n},nextLevel:function(){var t=this.currentLevel,e=this.levels[t],n=e.items[e.index];return e.items[e.index]=255,t--,!(t<0)&&(this.currentLevel=t,e=this.levels[t],e.items[e.index]=n,!0)}},t}(),k=function(){var t=17,e=18,n=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),r=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),i=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);function s(t,e,o,s,a){this.width=t,this.height=e,this.contextLabelTable="HH"===o?i:"HL"===o?r:n;var c=t*e;this.neighborsSignificance=new Uint8Array(c),this.coefficentsSign=new Uint8Array(c),this.coefficentsMagnitude=a>14?new Uint32Array(c):a>6?new Uint16Array(c):new Uint8Array(c),this.processingFlags=new Uint8Array(c);var u=new Uint8Array(c);if(0!==s)for(var f=0;f<c;f++)u[f]=s;this.bitsDecoded=u,this.reset()}return s.prototype={setDecoder:function(t){this.decoder=t},reset:function(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[t]=92,this.contexts[e]=6},setNeighborsSignificance:function(t,e,n){var r,i=this.neighborsSignificance,o=this.width,s=this.height,a=e>0,c=e+1<o;t>0&&(r=n-o,a&&(i[r-1]+=16),c&&(i[r+1]+=16),i[r]+=4),t+1<s&&(r=n+o,a&&(i[r-1]+=16),c&&(i[r+1]+=16),i[r]+=4),a&&(i[n-1]+=1),c&&(i[n+1]+=1),i[n]|=128},runSignificancePropagationPass:function(){for(var t=this.decoder,e=this.width,n=this.height,r=this.coefficentsMagnitude,i=this.coefficentsSign,o=this.neighborsSignificance,s=this.processingFlags,a=this.contexts,c=this.contextLabelTable,u=this.bitsDecoded,f=-2,l=1,h=2,d=0;d<n;d+=4)for(var p=0;p<e;p++)for(var v=d*e+p,m=0;m<4;m++,v+=e){var g=d+m;if(g>=n)break;if(s[v]&=f,!r[v]&&o[v]){var y=c[o[v]],b=t.readBit(a,y);if(b){var w=this.decodeSignBit(g,p,v);i[v]=w,r[v]=1,this.setNeighborsSignificance(g,p,v),s[v]|=h}u[v]++,s[v]|=l}}},decodeSignBit:function(t,e,n){var r,i,o,s,a,c,u=this.width,f=this.height,l=this.coefficentsMagnitude,h=this.coefficentsSign;s=e>0&&0!==l[n-1],e+1<u&&0!==l[n+1]?(o=h[n+1],s?(i=h[n-1],r=1-o-i):r=1-o-o):s?(i=h[n-1],r=1-i-i):r=0;var d=3*r;return s=t>0&&0!==l[n-u],t+1<f&&0!==l[n+u]?(o=h[n+u],s?(i=h[n-u],r=1-o-i+d):r=1-o-o+d):s?(i=h[n-u],r=1-i-i+d):r=d,r>=0?(a=9+r,c=this.decoder.readBit(this.contexts,a)):(a=9-r,c=1^this.decoder.readBit(this.contexts,a)),c},runMagnitudeRefinementPass:function(){for(var t,e=this.decoder,n=this.width,r=this.height,i=this.coefficentsMagnitude,o=this.neighborsSignificance,s=this.contexts,a=this.bitsDecoded,c=this.processingFlags,u=1,f=2,l=n*r,h=4*n,d=0;d<l;d=t){t=Math.min(l,d+h);for(var p=0;p<n;p++)for(var v=d+p;v<t;v+=n)if(i[v]&&0===(c[v]&u)){var m=16;if(0!==(c[v]&f)){c[v]^=f;var g=127&o[v];m=0===g?15:14}var y=e.readBit(s,m);i[v]=i[v]<<1|y,a[v]++,c[v]|=u}}},runCleanupPass:function(){for(var n,r=this.decoder,i=this.width,o=this.height,s=this.neighborsSignificance,a=this.coefficentsMagnitude,c=this.coefficentsSign,u=this.contexts,f=this.contextLabelTable,l=this.bitsDecoded,h=this.processingFlags,d=1,p=2,v=i,m=2*i,g=3*i,y=0;y<o;y=n){n=Math.min(y+4,o);for(var b=y*i,w=y+3<o,x=0;x<i;x++){var S,P=b+x,T=w&&0===h[P]&&0===h[P+v]&&0===h[P+m]&&0===h[P+g]&&0===s[P]&&0===s[P+v]&&0===s[P+m]&&0===s[P+g],C=0,k=P,I=y;if(T){var O=r.readBit(u,e);if(!O){l[P]++,l[P+v]++,l[P+m]++,l[P+g]++;continue}C=r.readBit(u,t)<<1|r.readBit(u,t),0!==C&&(I=y+C,k+=C*i),S=this.decodeSignBit(I,x,k),c[k]=S,a[k]=1,this.setNeighborsSignificance(I,x,k),h[k]|=p,k=P;for(var L=y;L<=I;L++,k+=i)l[k]++;C++}for(I=y+C;I<n;I++,k+=i)if(!a[k]&&0===(h[k]&d)){var E=f[s[k]],A=r.readBit(u,E);1===A&&(S=this.decodeSignBit(I,x,k),c[k]=S,a[k]=1,this.setNeighborsSignificance(I,x,k),h[k]|=p),l[k]++}}}},checkSegmentationSymbol:function(){var e=this.decoder,n=this.contexts,r=e.readBit(n,t)<<3|e.readBit(n,t)<<2|e.readBit(n,t)<<1|e.readBit(n,t);if(10!==r)throw new o("Invalid segmentation symbol")}},s}(),I=function(){function t(){}return t.prototype.calculate=function(t,e,n){for(var r=t[0],i=1,o=t.length;i<o;i++)r=this.iterate(r,t[i],e,n);return r},t.prototype.extend=function(t,e,n){var r=e-1,i=e+1,o=e+n-2,s=e+n;t[r--]=t[i++],t[s++]=t[o--],t[r--]=t[i++],t[s++]=t[o--],t[r--]=t[i++],t[s++]=t[o--],t[r]=t[i],t[s]=t[o]},t.prototype.iterate=function(t,e,n,r){var i,o,s,a,c,u,f=t.width,l=t.height,h=t.items,d=e.width,p=e.height,v=e.items;for(s=0,i=0;i<l;i++)for(a=2*i*d,o=0;o<f;o++,s++,a+=2)v[a]=h[s];h=t.items=null;var m=4,g=new Float32Array(d+2*m);if(1===d){if(0!==(1&n))for(u=0,s=0;u<p;u++,s+=d)v[s]*=.5}else for(u=0,s=0;u<p;u++,s+=d)g.set(v.subarray(s,s+d),m),this.extend(g,m,d),this.filter(g,m,d),v.set(g.subarray(m,m+d),s);var y=16,b=[];for(i=0;i<y;i++)b.push(new Float32Array(p+2*m));var w,x=0;if(t=m+p,1===p){if(0!==(1&r))for(c=0;c<d;c++)v[c]*=.5}else for(c=0;c<d;c++){if(0===x){for(y=Math.min(d-c,y),s=c,a=m;a<t;s+=d,a++)for(w=0;w<y;w++)b[w][a]=v[s+w];x=y}x--;var S=b[x];if(this.extend(S,m,p),this.filter(S,m,p),0===x)for(s=c-y+1,a=m;a<t;s+=d,a++)for(w=0;w<y;w++)v[s+w]=b[w][a]}return{width:d,height:p,items:v}},t}(),O=function(){function t(){I.call(this)}return t.prototype=Object.create(I.prototype),t.prototype.filter=function(t,e,n){var r,i,o,s,a=n>>1;e|=0;var c=-1.586134342059924,u=-.052980118572961,f=.882911075530934,l=.443506852043971,h=1.230174104914001,d=1/h;for(r=e-3,i=a+4;i--;r+=2)t[r]*=d;for(r=e-2,o=l*t[r-1],i=a+3;i--;r+=2){if(s=l*t[r+1],t[r]=h*t[r]-o-s,!i--)break;r+=2,o=l*t[r+1],t[r]=h*t[r]-o-s}for(r=e-1,o=f*t[r-1],i=a+2;i--;r+=2){if(s=f*t[r+1],t[r]-=o+s,!i--)break;r+=2,o=f*t[r+1],t[r]-=o+s}for(r=e,o=u*t[r-1],i=a+1;i--;r+=2){if(s=u*t[r+1],t[r]-=o+s,!i--)break;r+=2,o=u*t[r+1],t[r]-=o+s}if(0!==a)for(r=e+1,o=c*t[r-1],i=a;i--;r+=2){if(s=c*t[r+1],t[r]-=o+s,!i--)break;r+=2,o=c*t[r+1],t[r]-=o+s}},t}(),L=function(){function t(){I.call(this)}return t.prototype=Object.create(I.prototype),t.prototype.filter=function(t,e,n){var r,i,o=n>>1;for(e|=0,r=e,i=o+1;i--;r+=2)t[r]-=t[r-1]+t[r+1]+2>>2;for(r=e+1,i=o;i--;r+=2)t[r]+=t[r-1]+t[r+1]>>1},t}();return e}();e.JpxImage=s}])}));