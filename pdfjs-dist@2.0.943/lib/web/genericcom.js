"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GenericCom=void 0;var _regenerator=require("babel-runtime/regenerator"),_regenerator2=_interopRequireDefault(_regenerator),_createClass=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}(),_app=require("./app"),_preferences=require("./preferences"),_download_manager=require("./download_manager"),_genericl10n=require("./genericl10n");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise((function(e,n){function t(o,a){try{var i=r[o](a),c=i.value}catch(u){return void n(u)}if(!i.done)return Promise.resolve(c).then((function(e){t("next",e)}),(function(e){t("throw",e)}));e(c)}return t("next")}))}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!==typeof r&&"function"!==typeof r?e:r}function _inherits(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}var GenericCom={},GenericPreferences=function(e){function r(){return _classCallCheck(this,r),_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return _inherits(r,e),_createClass(r,[{key:"_writeToStorage",value:function(){var e=_asyncToGenerator(_regenerator2.default.mark((function e(r){return _regenerator2.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:localStorage.setItem("pdfjs.preferences",JSON.stringify(r));case 1:case"end":return e.stop()}}),e,this)})));function r(r){return e.apply(this,arguments)}return r}()},{key:"_readFromStorage",value:function(){var e=_asyncToGenerator(_regenerator2.default.mark((function e(r){return _regenerator2.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",JSON.parse(localStorage.getItem("pdfjs.preferences")));case 1:case"end":return e.stop()}}),e,this)})));function r(r){return e.apply(this,arguments)}return r}()}]),r}(_preferences.BasePreferences),GenericExternalServices=Object.create(_app.DefaultExternalServices);GenericExternalServices.createDownloadManager=function(e){return new _download_manager.DownloadManager(e)},GenericExternalServices.createPreferences=function(){return new GenericPreferences},GenericExternalServices.createL10n=function(e){var r=e.locale,n=void 0===r?"en-US":r;return new _genericl10n.GenericL10n(n)},_app.PDFViewerApplication.externalServices=GenericExternalServices,exports.GenericCom=GenericCom;