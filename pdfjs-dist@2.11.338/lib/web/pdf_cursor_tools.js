"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFCursorTools=exports.CursorTool=void 0;var _grab_to_pan=require("./grab_to_pan.js"),_ui_utils=require("./ui_utils.js");const CursorTool={SELECT:0,HAND:1,ZOOM:2};exports.CursorTool=CursorTool;class PDFCursorTools{constructor({container:o,eventBus:t,cursorToolOnLoad:e=CursorTool.SELECT}){this.container=o,this.eventBus=t,this.active=CursorTool.SELECT,this.activeBeforePresentationMode=null,this.handTool=new _grab_to_pan.GrabToPan({element:this.container}),this._addEventListeners(),Promise.resolve().then((()=>{this.switchTool(e)}))}get activeTool(){return this.active}switchTool(o){if(null!==this.activeBeforePresentationMode)return;if(o===this.active)return;const t=()=>{switch(this.active){case CursorTool.SELECT:break;case CursorTool.HAND:this.handTool.deactivate();break;case CursorTool.ZOOM:}};switch(o){case CursorTool.SELECT:t();break;case CursorTool.HAND:t(),this.handTool.activate();break;case CursorTool.ZOOM:default:return void console.error(`switchTool: "${o}" is an unsupported value.`)}this.active=o,this._dispatchEvent()}_dispatchEvent(){this.eventBus.dispatch("cursortoolchanged",{source:this,tool:this.active})}_addEventListeners(){this.eventBus._on("switchcursortool",(o=>{this.switchTool(o.tool)})),this.eventBus._on("presentationmodechanged",(o=>{switch(o.state){case _ui_utils.PresentationModeState.FULLSCREEN:{const o=this.active;this.switchTool(CursorTool.SELECT),this.activeBeforePresentationMode=o;break}case _ui_utils.PresentationModeState.NORMAL:{const o=this.activeBeforePresentationMode;this.activeBeforePresentationMode=null,this.switchTool(o);break}}}))}}exports.PDFCursorTools=PDFCursorTools;