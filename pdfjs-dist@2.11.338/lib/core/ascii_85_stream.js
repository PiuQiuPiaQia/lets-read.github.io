"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Ascii85Stream=void 0;var _decode_stream=require("./decode_stream.js"),_core_utils=require("./core_utils.js");class Ascii85Stream extends _decode_stream.DecodeStream{constructor(e,t){t&&(t*=.8),super(t),this.str=e,this.dict=e.dict,this.input=new Uint8Array(5)}readBlock(){const e=126,t=122,r=-1,s=this.str;let i=s.getByte();while((0,_core_utils.isWhiteSpace)(i))i=s.getByte();if(i===r||i===e)return void(this.eof=!0);const o=this.bufferLength;let c,f;if(i===t){for(c=this.ensureBuffer(o+4),f=0;f<4;++f)c[o+f]=0;this.bufferLength+=4}else{const t=this.input;for(t[0]=i,f=1;f<5;++f){i=s.getByte();while((0,_core_utils.isWhiteSpace)(i))i=s.getByte();if(t[f]=i,i===r||i===e)break}if(c=this.ensureBuffer(o+f-1),this.bufferLength+=f-1,f<5){for(;f<5;++f)t[f]=117;this.eof=!0}let u=0;for(f=0;f<5;++f)u=85*u+(t[f]-33);for(f=3;f>=0;--f)c[o+f]=255&u,u>>=8}}}exports.Ascii85Stream=Ascii85Stream;