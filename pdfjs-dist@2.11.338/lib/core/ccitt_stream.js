"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CCITTFaxStream=void 0;var _primitives=require("./primitives.js"),_ccitt=require("./ccitt.js"),_decode_stream=require("./decode_stream.js");class CCITTFaxStream extends _decode_stream.DecodeStream{constructor(e,t,i){super(t),this.str=e,this.dict=e.dict,(0,_primitives.isDict)(i)||(i=_primitives.Dict.empty);const r={next(){return e.getByte()}};this.ccittFaxDecoder=new _ccitt.CCITTFaxDecoder(r,{K:i.get("K"),EndOfLine:i.get("EndOfLine"),EncodedByteAlign:i.get("EncodedByteAlign"),Columns:i.get("Columns"),Rows:i.get("Rows"),EndOfBlock:i.get("EndOfBlock"),BlackIs1:i.get("BlackIs1")})}readBlock(){while(!this.eof){const e=this.ccittFaxDecoder.readNextChar();if(-1===e)return void(this.eof=!0);this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=e}}}exports.CCITTFaxStream=CCITTFaxStream;