"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RunLengthStream=void 0;var _decode_stream=require("./decode_stream.js");class RunLengthStream extends _decode_stream.DecodeStream{constructor(e,t){super(t),this.str=e,this.dict=e.dict}readBlock(){const e=this.str.getBytes(2);if(!e||e.length<2||128===e[0])return void(this.eof=!0);let t,s=this.bufferLength,r=e[0];if(r<128){if(t=this.ensureBuffer(s+r+1),t[s++]=e[1],r>0){const e=this.str.getBytes(r);t.set(e,s),s+=r}}else{r=257-r;const n=e[1];t=this.ensureBuffer(s+r+1);for(let e=0;e<r;e++)t[s++]=n}this.bufferLength=s}}exports.RunLengthStream=RunLengthStream;